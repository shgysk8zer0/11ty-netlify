!function(){"use strict";function e(e){return e instanceof Function&&"AsyncFunction"===e.constructor.name}function t({signal:e}={}){const t={};return t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),e instanceof EventTarget&&e.throwIfAborted instanceof Function&&(e.aborted?t.reject(e.reason):e.addEventListener("abort",(({target:e})=>t.reject(e.reason)),{once:!0})),Object.seal(t)}async function n(n,r=[],{thisArg:i=globalThis,signal:o}={}){const{promise:a,resolve:s,reject:l}=t({signal:o});return n instanceof Function?Array.isArray(r)?o instanceof AbortSignal&&o.aborted?l(o.reason):e(n)?n.call(i,r).then(s).catch(l):queueMicrotask((()=>{try{s(n.call(i,r))}catch(e){l(e)}})):l(new TypeError("`args` must be an array")):l(new TypeError("`callAsAsync` expects callback to be a function")),await a}async function r(e,t,{thisArg:r=globalThis,args:i=[],mode:o="exclusive",ifAvailable:a=!1,steal:s=!1,allowFallback:l=!0,signal:c}={}){return!l||await async function(){if("locks"in navigator)try{return await navigator.locks.request("lock-test",(()=>!0))}catch(e){return!1}}()?await navigator.locks.request(e,{mode:o,ifAvailable:a,steal:s,signal:c},(async e=>{if(e)return await n(t,[e,...i],{thisArg:r,signal:c})})):await n(t,[null,...i],{signal:c,thisArg:r})}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */!function(){var e;!("crypto"in window)&&"msCrypto"in window&&(globalThis.crypto=globalThis.msCrypto),"Notification"in window||(globalThis.Notification=globalThis.notifications||globalThis.webkitNotifications||globalThis.oNotifications||globalThis.msNotifications||!1),"doNotTrack"in navigator||(navigator.doNotTrack=globalThis.doNotTrack||navigator.msDoNotTrack||"unspecified"),"indexedDB"in window||(globalThis.indexedDB=globalThis.indexedDB||globalThis.mozIndexedDB||globalThis.webkitIndexedDB||globalThis.msIndexedDB||!1),"hidden"in document||(document.hidden=document.webkitHidden||document.msHidden||document.mozHidden||!1),"visibilityState"in document||(document.visibilityState=document.webkitVisibilityState||document.msVisibilityState||document.mozVisibilityState||"visible"),"fullscreenElement"in document||(document.fullscreenElement=document.mozFullScreenElement||document.webkitFullscreenElement||!1),"requestAnimationFrame"in window||(globalThis.requestAnimationFrame=globalThis.mozRequestAnimationFrame||globalThis.webkitRequestAnimationFrame||globalThis.msRequestAnimationFrame||!1),"exitFullscreen"in Document.prototype||(Document.prototype.exitFullscreen=document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msCancelFullScreen||!1),"requestFullscreen"in HTMLElement.prototype||(HTMLElement.prototype.requestFullscreen=HTMLElement.prototype.requestFullScreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.webkitRequestFullScreen||!1),"fullscreen"in Document.prototype||Object.defineProperty(Document.prototype,"fullscreen",{get:()=>document.fullscreenElement instanceof Element}),"Symbol"in globalThis&&(void 0===Symbol.toStringTag&&(Symbol.toStringTag=Symbol("Symbol.toStringTag")),void 0===Symbol.iterator&&(Symbol.iterator=Symbol("Symbol.iterator"))),function(){const e=[Array,String,globalThis.Int8Array,globalThis.Uint8Array,globalThis.Uint8ClampedArray,globalThis.Int16Array,globalThis.Uint16Array,globalThis.Int32Array,globalThis.Uint32Array,globalThis.Float32Array,globalThis.Float64Array,globalThis.BigInt64Array,globalThis.BigUint64Array];if(Array.prototype.flat instanceof Function||(Array.prototype.flat=function(e=1){const t=[];e=Math.min(Number.MAX_SAFE_INTEGER,Math.max(0,e));const n=(e,r)=>{Array.isArray(e)&&r>=0?e.forEach((e=>n(e,r-1))):t.push(e)};return n(this,Number.isNaN(e)?0:e),t}),Array.prototype.flatMap instanceof Function||(Array.prototype.flatMap=function(e,t){return this.map(e,t).flat(1)}),Array.prototype.findLast instanceof Function||(Array.prototype.findLast=function(e,t){let n;return this.forEach(((r,i,o)=>{e.call(t,r,i,o)&&(n=r)}),t),n}),Array.prototype.findLastIndex instanceof Function||(Array.prototype.findLastIndex=function(e,t){let n=-1;return this.forEach(((r,i,o)=>{e.call(t,r,i,o)&&(n=i)}),t),n}),!(Array.prototype.at instanceof Function)){const t=function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]};for(const n of e)void 0!==n&&Object.defineProperty(n.prototype,"at",{value:t,writable:!0,enumerable:!1,configurable:!0})}Array.prototype.group instanceof Function||(Array.prototype.group=function(e,t=globalThis){return this.reduce(((n,r,i,o)=>{const a=e.call(t,r,i,o);return n.hasOwnProperty(a)?n[a].push(r):n[a]=[r],n}),{})}),Array.prototype.groupBy=function(...e){return console.warn("`goupBy` is deprecated. Please use `group` instead."),this.group(...e)},!(Array.prototype.groupToMap instanceof Function)&&Map.prototype.emplace instanceof Function&&(Array.prototype.groupToMap=function(e,t=globalThis){return this.reduce(((n,r,i,o)=>(n.emplace(e.call(t,r,i,o),{insert:()=>[r],update:e=>(e.push(r),e)}),n)),new Map)}),Map.prototype.emplace instanceof Function&&(Array.prototype.groupByToMap=function(...e){return console.warn("`goupByToMap` is deprecated. Please use `groupToMap` instead."),this.groupToMap(...e)}),Array.fromAsync instanceof Function||(Array.fromAsync=async function(e,t,n=globalThis){let r=[];for await(const t of e)r.push(await t);return Array.from(r,t,n)}),Array.prototype.equals instanceof Function||(Array.prototype.equals=function(e){return this===e||!!Array.isArray(e)&&this.length===e.length&&this.every(((t,n)=>{const r=e[n];return Array.isArray(t)?Array.isArray(r)&&t.equals(r):Object.is(t,r)}))}),Array.prototype.uniqueBy instanceof Function||(Array.prototype.uniqueBy=function(e){if(void 0===e)return[...new Set(this)];if("string"==typeof e){const t=[];return this.filter((n=>{const r=n[e];return!t.includes(r)&&(t.push(r),!0)}))}if(e instanceof Function){const t=[];return this.filter(((...n)=>{try{const r=e.apply(this,n);return"string"==typeof r&&!t.includes(r)&&(t.push(r),!0)}catch(e){return!1}}))}throw new TypeError("Not a valid argument for uniqueBy")}),Array.prototype.toReversed instanceof Function||(Array.prototype.toReversed=function(){return[...this].reverse()}),Array.prototype.toSorted instanceof Function||(Array.prototype.toSorted=function(e){return[...this].sort(e)}),Array.prototype.toSpliced instanceof Function||(Array.prototype.toSpliced=function(e,t,...n){const r=[...this];return r.splice(e,t,...n),r}),Array.prototype.with instanceof Function||(Array.prototype.with=function(e,t){const n=[...this];return n[e]=t,n})}(),function(){"undefined"==typeof globalThis&&("undefined"!=typeof window?Object.defineProperty(Window.prototype,"globalThis",{enumerable:!1,writable:!0,configurable:!0,value:window}):"undefined"!=typeof global?Object.defineProperty(global,"globalThis",{enumerable:!1,writable:!0,configurable:!0,value:global}):"undefined"!=typeof self?Object.defineProperty(self,"globalThis",{enumerable:!1,writable:!0,configurable:!0,value:self}):Object.defineProperty(this,"globalThis",{enumerable:!1,writable:!0,configurable:!0,value:this}))}(),function(){if(!(Function.prototype.once instanceof Function)){const e=new WeakMap;Function.prototype.once=function(t){const n=this;return function(...r){if(e.has(n))return e.get(n);if("AsyncFunction"===n.constructor.name){const i=n.apply(t||n,r).catch((t=>{throw e.delete(n),t}));return e.set(n,i),i}if(n instanceof Function){const i=n.apply(t||n,r);return e.set(n,i),i}}}}}(),Number.range instanceof Function||(Number.range=function(e,t,n=1){return console.warn("`Number.range()` is deprecated. Use `Iterator.range()` instead."),globalThis.Iterator.range(e,t,{step:n})}),function(){"Iterator"in globalThis||(globalThis.Iterator={prototype:Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()))});const e=globalThis.Iterator;e.range instanceof Function||(e.range=function*(t,n,r){if("number"==typeof r||"bigint"==typeof r)for(const i of e.range(t,n,{step:r}))yield i;else if("object"!=typeof r||Object.is(r,null))for(const r of e.range(t,n,{}))yield r;else{const{step:e=("number"==typeof t?t<n?1:-1:t<n?1n:-1n),inclusive:i=!1}=r;if("number"!=typeof t&&"bigint"!=typeof t)throw new TypeError("Start must be a number");if(Number.isNaN(t))throw new RangeError("Invalid start");if("number"!=typeof n&&"bigint"!=typeof n)throw new TypeError("End must be a number");if(Number.isNaN(n))throw new RangeError("Invalid end");if("number"!=typeof e&&"bigint"!=typeof e)throw new TypeError("Step must be a number");if(Number.isNaN(e))throw new RangeError("Invalid step");if(0===e)throw new RangeError("Step must not be 0");if(e<0&&t<n||e>0&&t>n)return;if(i)if(e>0)for(let r=t;r<=n;r+=e)yield r;else for(let r=t;r>=n;r+=e)yield r;else if(e>0)for(let r=t;r<n;r+=e)yield r;else for(let r=t;r>n;r+=e)yield r}}),e.prototype[Symbol.toStringTag]||(e.prototype[Symbol.toStringTag]="Iterator"),e.prototype.take instanceof Function||(e.prototype.take=function*(e){let t=0;for(const n of this){if(++t>e)break;yield n}}),e.prototype.drop instanceof Function||(e.prototype.drop=function*(e){let t=0;for(const n of this)t++>=e&&(yield n)}),e.prototype.toArray instanceof Function||(e.prototype.toArray=function(){return Array.from(this)}),e.prototype.forEach instanceof Function||(e.prototype.forEach=function(e){for(const t of this)e(t)}),e.prototype.map instanceof Function||(e.prototype.map=function*(e){for(const t of this)yield e(t)}),e.prototype.reduce instanceof Function||(e.prototype.reduce=function(e,t){let n=void 0===t?this.next().value:t;for(const t of this)n=e(n,t);return n}),e.prototype.filter instanceof Function||(e.prototype.filter=function*(e){for(const t of this)e(t)&&(yield t)}),e.prototype.some instanceof Function||(e.prototype.some=function(e){let t=!1;for(const n of this)if(e(n)){t=!0;break}return t}),e.prototype.every instanceof Function||(e.prototype.every=function(e){let t=!0;for(const n of this)if(!e(n)){t=!1;break}return t}),e.prototype.find instanceof Function||(e.prototype.find=function(e){for(const t of this)if(e(t))return t}),e.prototype.indexed instanceof Function||(e.prototype.indexed=function*(){let e=0;for(const t of this)yield[e++,t]})}(),Number.hasOwnProperty("isSafeInteger")||(Number.MAX_SAFE_INTEGER=2**53-1,Number.MIN_SAFE_INTEGER=-Number.MAX_SAFE_INTEGER,Number.isSafeInteger=e=>e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER),Number.hasOwnProperty("EPSILON")||(Number.EPSILON=2**-52),Math.hasOwnProperty("sign")||(Math.sign=e=>(e>0)-(e<0)||+e),Math.hasOwnProperty("trunc")||(Math.trunc=e=>{const t=e-e%1;return 0===t&&(e<0||0===e&&1/e!=1/0)?-0:t}),Math.hasOwnProperty("expm1")||(Math.expm1=e=>Math.exp(e)-1),Math.hasOwnProperty("hypot")||(Math.hypot=(...e)=>Math.sqrt(e.reduce(((e,t)=>e+t**2),0))),Math.hasOwnProperty("cbrt")||(Math.cbrt=e=>e**(1/3)),Math.hasOwnProperty("log10")||(Math.log10=e=>Math.log(e)*Math.LOG10E),Math.hasOwnProperty("log2")||(Math.log2=e=>Math.log(e)*Math.LOG2E),Math.hasOwnProperty("log1p")||(Math.log1p=e=>Math.log(1+e)),Math.hasOwnProperty("fround")||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]})),Math.clamp instanceof Function||(Math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)}),Math.constrain instanceof Function||(Math.constrain=Math.clamp),function(){if(!("isSecureContext"in globalThis)){const e=["localhost","127.0.0.1"],t="https:",n=[t,"file:","wss:"],r=(e=globalThis.document)=>[...e.scripts].every((({src:n})=>{if(0===n.length)return!0;{const{protocol:r,hostname:i}=new URL(n,e.baseURI);return r===t||i===location.hostname}}));Object.defineProperty(globalThis,"isSecureContext",{enumerable:!0,configurable:!0,get:function(){return!(!n.includes(location.protocol)&&!e.includes(location.hostname))&&r()}})}}();const t=new WeakMap;function n(e){return e instanceof Function&&"AsyncFunction"===e.constructor.name}function r(e){return"object"==typeof e&&!Object.is(e,null)&&!Array.isArray(e)}function i(e){switch(typeof e){case"undefined":return"Undefined";case"function":return"prototype"in e?i(e.prototype):"constructor"in e?e.constructor.name:"Function";case"object":return Object.is(e,null)?"Null":"constructor"in e?e.constructor.name:Symbol.toStringTag in e?e[Symbol.toStringTag]:"prototype"in e?i(e.prototype):(console.log(e),"Unknown Object");case"string":return"String";case"number":return Number.isNaN(e)?"NaN":"Number";case"bigint":return"BigInt";case"boolean":return"Boolean";case"symbol":return"Symbol";default:return"Unknown"}}function o(e,r){return e.once instanceof Function?e.once(r):function(...i){if(t.has(e))return t.get(e);if(n(e)){const n=e.apply(r||this,i).catch((n=>{throw t.delete(e),n}));return t.set(e,n),n}if(e instanceof Function){const n=e.apply(r||this,i);return t.set(e,n),n}}}
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 * @see https://developer.mozilla.org/en-US/docs/Web/API/Lock
		 */const a=new WeakMap;class s{constructor(e,t="exclusive"){if(!["exclusive","shared"].includes(t))throw new TypeError(`'${t}' (value of 'mode' member of LockOptions) is not a valid value for enumeration LockMode.`);if("string"!=typeof e&&(e=e.toString()),e.startsWith("-"))throw new DOMException("Names starting with `-` are reserved");a.set(this,{name:e,mode:t})}get name(){return a.get(this).name}get mode(){return a.get(this).mode}}
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */const l=new Map,c=Symbol("lock-key"),u="locks"in navigator&&navigator.locks.request instanceof Function,d=async function(){return await new Promise((e=>{"locks"in navigator&&navigator.locks.request instanceof Function?navigator.locks.query().then((()=>e(!0))).catch((()=>e(!1))):e(!1)}))}();async function p(e,t=null){return new Promise(((r,i)=>{var o;n(o=e)||o instanceof Promise?e.call(globalThis,t).then(r,i):queueMicrotask((()=>{try{const n=e.call(globalThis,t);r(n)}catch(e){i(e)}}))}))}async function h(e){l.has(e)&&await l.get(e).promise.catch(console.error)}function m(e,t,n){const{resolve:r,reject:i,promise:o}=function(){if(Promise.withResolvers instanceof Function)return Promise.withResolvers();{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}}(),a=new AbortController,c=new s(e,t),u=function({name:e,mode:t}){switch(t){case"exclusive":return f().some((t=>t.name===e));case"shared":return f().some((t=>t.name===e&&"exclusive"===t.mode))}}(c);return l.set(c,{resolve:r,reject:i,promise:o,callback:n,pending:u,controller:a}),c}function g(e){return e instanceof s&&l.has(e)&&l.get(e).pending}function f(e){return"string"==typeof e?[...l.keys()].filter((t=>t.name===e)):[...l.keys()]}function y(e){return f(e).filter((e=>!g(e)))}function b(e){return f(e).filter((e=>g(e)))}async function w(e){switch(e.mode){case"exclusive":await Promise.allSettled(f().filter((t=>t.name===e.name&&t!==e)).map(h));break;case"shared":await Promise.allSettled(f().filter((t=>t.name===e.name&&"exclusive"===t.mode&&t!==e)).map(h))}}function v(e){if(l.has(e))return l.get(e).controller.signal}async function E(e){if(l.has(e)){const{resolve:t,reject:n,promise:r,callback:i,pending:o,controller:a}=l.get(e);return o&&function(e,t=!0){l.has(e)&&l.set(e,{...l.get(e),pending:t})}(e,!1),p(i,e).then(t,n).finally((()=>{l.delete(e),requestIdleCallback((()=>a.abort()))})),r}}class T{constructor(e){if(e!==c)throw new TypeError("Invalid constructor")}static async request(e,...t){let n,r={};t[0]instanceof Function?n=t[0]:t[1]instanceof Function&&([r,n]=t),"string"!=typeof e&&(e=e.toString());const{mode:i="exclusive",ifAvailable:o=!1,steal:a=!1,signal:s}=r;if(a&&o)throw new DOMException("LockManager.request: `steal` and `ifAvailable` cannot be used together");if(e.startsWith("-"))throw new DOMException("LockManager.request: Names starting with `-` are reserved");if(!["exclusive","shared"].includes(i))throw new TypeError(`LockManager.request: '${i}' (value of 'mode' member of LockOptions) is not a valid value for enumeration LockMode.`);if(s instanceof AbortSignal&&s.aborted)throw s.reason;if("shared"===i&&a)throw new DOMException("LockManager.request: `steal` is only supported for exclusive lock requests");const c=y(e),u=b(e),d=[...c,...u].some((t=>t.name===e));a&&d&&function(e){[...l.entries()].filter((([t])=>t.name===e)).forEach((([e,{reject:t,controller:n}])=>{requestIdleCallback((()=>{n.abort(),l.delete(e)})),t(new DOMException("The lock request is aborted"))}))}(e);const h=m(e,i,n);switch(s instanceof AbortSignal&&s.addEventListener("abort",(()=>{if(l.has(h)){const{reject:e,controller:t}=l.get(h);l.delete(h),e(new DOMException("The lock request is aborted")),t.abort()}}),{once:!0,signal:v(h)}),i){case"exclusive":if(!o||0===c.length&&0===u.length)return await w(h),await E(h);{const e=l.get(h).controller;return l.delete(h),await p(n,null).then((t=>(requestIdleCallback((()=>e.abort())),t)))}case"shared":if(o){if([...c,...u].some((e=>"exclusive"===e.mode))){const e=l.get(h).controller;return l.delete(h),await p(n,null).then((t=>(requestIdleCallback((()=>e.abort())),t)))}return await w(h),await E(h)}return await w(h),await E(h);default:throw new TypeError(`LockManager.request: '${i}' (value of 'mode' member of LockOptions) is not a valid value for enumeration LockMode.`)}}static async query(){return{held:y().map((({name:e,mode:t})=>({name:e,mode:t,clientId:null}))),pending:b().map((({name:e,mode:t})=>({name:e,mode:t,clientId:null})))}}}function S(e,t="error"){if(e instanceof Error){const{message:n,name:r,fileName:i,lineNumber:o,columnNumber:a}=e;return new ErrorEvent(t,{error:e,message:`${r}: ${n}`,filename:i,lineno:o,colno:a})}throw new TypeError("`errorToEvent()` only accepts Errors")}let A=!1;new Promise((async e=>{if(u)if(await d)e(!1);else try{navigator.locks.request=T.request,navigator.locks.query=T.query,A=!0,e(!0)}catch(t){globalThis.dispatchEvent(S(t)),e(!1)}else try{navigator.locks=T,A=!0,e(!0)}catch(t){globalThis.dispatchEvent(S(t)),e(!1)}})),navigator.canShare instanceof Function||(navigator.canShare=function({title:e,text:t,url:n,files:r}={}){return navigator.share instanceof Function&&(!Array.isArray(r)||0===r.length)&&(!![e,t,n].every((e=>void 0===e))||[e,t,n].some((e=>"string"==typeof e&&0!==e.length)))}),navigator.setAppBadge instanceof Function||(navigator.setAppBadge=async e=>{if(!Number.isInteger(e))throw new TypeError("Failed to execute 'setAppBadge' on 'Navigator': Value is not of type 'unsigned long long'");if(e<0)throw new TypeError("Failed to execute 'setAppBadge' on 'Navigator': Value is outside the 'unsigned long long' value range.");0===e?document.title.startsWith("(")&&(document.title=document.title.replace(/^\((\d{1,2}\+?)\)\s/,"")):e<100?(await navigator.clearAppBadge(),document.title=`(${e}) ${document.title}`):(await navigator.clearAppBadge(),document.title=`(99+) ${document.title}`)}),navigator.clearAppBadge instanceof Function||(navigator.clearAppBadge=()=>navigator.setAppBadge(0)),Navigator.prototype.hasOwnProperty("pdfViewerEnabled")||Object.defineProperty(navigator,"pdfViewerEnabled",{enumerable:!0,configurable:!1,writable:!1,value:!1}),Navigator.prototype.getInstalledRelatedApps instanceof Function||(Navigator.prototype.getInstalledRelatedApps=async()=>[]),Navigator.prototype.getGamepads instanceof Function||(Navigator.prototype.getGamepads=()=>[]),"hardwareConcurrency"in Navigator.prototype||Object.defineProperty(Navigator.prototype,"hardwareConcurrency",{get:()=>1}),"connection"in Navigator.prototype?"type"in navigator.connection||(navigator.connection.type="unknown"):Object.defineProperty(Navigator.prototype,"connection",{get:()=>Object.create(EventTarget.prototype,{type:{value:"unknown"},effectiveType:{value:"4g"},rtt:{value:NaN},downlink:{value:NaN},downlinkMax:{value:1/0},saveData:{value:!1},onchange:{value:null,writable:!0},ontypechange:{value:null,writable:!0}})}),"doNotTrack"in Navigator.prototype||Object.defineProperty(Navigator.prototype,"doNotTrack",{get:()=>"unspecified"}),"globalPrivacyControl"in Navigator.prototype||Object.defineProperty(Navigator.prototype,"globalPrivacyControl",{get:()=>!1}),function(){if(!(globalThis.requestIdleCallback instanceof Function)){const e=e=>Number.isSafeInteger(e)&&e>0;globalThis.requestIdleCallback=function(t,{timeout:n}={}){const r=performance.now(),i=()=>e(n)?Math.max(0,n-(performance.now()-r)):Math.max(0,600-(performance.now()-r));return setTimeout((()=>t({didTimeout:!!e(n)&&0===i(),timeRemaining:i})),1)}}globalThis.cancelIdleCallback instanceof Function||(globalThis.cancelIdleCallback=e=>clearTimeout(e)),globalThis.requestAnimationFrame instanceof Function||(globalThis.requestAnimationFrame=e=>setTimeout((()=>e(performance.now())),1e3/60)),globalThis.cancelAnimationFrame instanceof Function||(globalThis.cancelAnimationFrame=e=>clearTimeout(e)),globalThis.queueMicrotask instanceof Function||(globalThis.queueMicrotask=e=>Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e})))))}(),function(){if(!("AbortSignal"in globalThis)){const e={signal:Symbol("signal"),aborted:Symbol("aborted"),reason:Symbol("reason"),onabort:Symbol("onabort")};globalThis.AbortError=class extends Error{},globalThis.AbortSignal=class t extends EventTarget{constructor(){super(),Object.defineProperties(this,{[e.aborted]:{enumerable:!1,writable:!0,configurable:!1,value:!1},[e.reason]:{enumerable:!1,writable:!0,configurable:!1,value:void 0},[e.onabort]:{enumerable:!1,writable:!0,configurable:!1,value:null}}),this.addEventListener("abort",(e=>{this.onabort instanceof Function&&this.onabort.call(this,e)}))}get aborted(){return this[e.aborted]}get onabort(){return this[e.onabort]}set onabort(t){this[e.onabort]=t instanceof Function?t:null}get reason(){return this[e.reason]}throwIfAborted(){if(this.aborted)throw this.reason}static abort(n=new DOMException("Operation aborted")){const r=new t;return r[e.aborted]=!0,r[e.reason]=n,r}},globalThis.AbortController=class{constructor(){this[e.signal]=new AbortSignal}get signal(){return this[e.signal]}abort(t=new DOMException("Operation aborted")){const n=this.signal;n.aborted||(n[e.aborted]=!0,n[e.reason]=t,n.dispatchEvent(new Event("abort")))}}}if(!("reason"in AbortSignal.prototype)){const e=new WeakMap,t=AbortController.prototype.abort;if(AbortSignal.abort instanceof Function){const t=AbortSignal.abort;AbortSignal.abort=function(n=new DOMException("Operation aborted")){const r=t();return e.set(r,n),r}}else AbortSignal.abort=function(e=new DOMException("Operation aborted")){const t=new AbortController;return t.abort(e),t.reason};Object.defineProperty(AbortSignal.prototype,"reason",{enumerable:!0,configurable:!0,get:function(){return e.has(this)?e.get(this):void 0}}),AbortController.prototype.abort=function(n=new DOMException("Operation aborted")){e.set(this.signal,n),t.call(this)}}AbortSignal.prototype.throwIfAborted instanceof Function||(AbortSignal.prototype.throwIfAborted=function(){if(this.aborted)throw this.reason}),AbortSignal.timeout instanceof Function||(AbortSignal.timeout=function(e){if(void 0===e)throw new TypeError("At least one 1 argument required but only 0 passed");if(Number.isFinite(e)){if(e<0)throw new TypeError("Argument 1 is out of range for unsigned long long.");{const t=new AbortController;return setTimeout((()=>t.abort(new DOMException("The operation timed out."))),e),t.signal}}throw new TypeError("Argument 1 is not a finite value, so it is out of range for unsigned long long.")}),AbortSignal.any instanceof Function||(AbortSignal.any=function(e){if(!Array.isArray(e))throw new TypeError("Expected an array of signals");const t=new AbortController;for(const n of e){if(!(n instanceof AbortSignal)){const e=new TypeError("`signal` is not an `AbortSignal`");throw t.abort(e),e}if(n.aborted){t.abort(n.reason||new DOMException("Operation aborted."));break}n.addEventListener("abort",(({target:e})=>{t.abort(e.reason||new DOMException("Operation aborted."))}),{signal:t.signal})}return t.signal})}(),globalThis.hasOwnProperty("AggregateError")||(globalThis.AggregateError=class extends Error{constructor(e,t){void 0===t?(super(e),this.errors=[]):(super(t),this.errors=e)}}),globalThis.reportError instanceof Function||(globalThis.reportError=function(e){globalThis.dispatchEvent(S(e))}),function(){if("MediaQueryListEvent"in globalThis||(globalThis.MediaQueryListEvent=class extends Event{constructor(e,{media:t,matches:n}={}){super(e),Object.defineProperties(this,{media:{enumerable:!0,configurable:!1,writable:!1,value:t},matches:{enumerable:!0,configurable:!1,writable:!1,value:n}})}}),"MediaQueryList"in globalThis&&!(globalThis.MediaQueryList.prototype.addEventListener instanceof Function)){const e=new WeakMap,t=function(){const{media:e,matches:t}=this;this.dispatchEvent(new MediaQueryListEvent("change",{media:e,matches:t}))},n=function(n){return e.has(n)||(e.set(n,new EventTarget),n.addListener(t.bind(n))),e.get(n)};globalThis.MediaQueryList.prototype.addEventListener=function(e,t,r){n(this).addEventListener(e,t,r)},globalThis.MediaQueryList.prototype.removeEventListener=function(e,t,r){n(this).removeEventListener(e,t,r)},globalThis.MediaQueryList.prototype.dispatchEvent=function(e){n(this).dispatchEvent(e)}}}(),"Promise"in globalThis&&(Promise.prototype.finally instanceof Function||(Promise.prototype.finally=function(e){return this.then((async t=>(await e(),t)),(async t=>(await e(),t)))}),Promise.allSettled instanceof Function||(Promise.allSettled=function(e){return Promise.all(Array.from(e).map((function(e){return new Promise((function(t){e instanceof Promise||(e=Promise.resolve(e)),e.then((function(e){t({status:"fulfilled",value:e})})).catch((function(e){t({status:"rejected",reason:e})}))}))})))}),Promise.any instanceof Function||(Promise.any=e=>new Promise(((t,n)=>{let r=[];e.forEach((i=>{i.then(t).catch((t=>{r.push(t),r.length===e.length&&n(new globalThis.AggregateError(r,"No Promise in Promise.any was resolved"))}))}))}))),Promise.race instanceof Function||(Promise.race=e=>new Promise(((t,n)=>{e.forEach((e=>e.then(t,n)))}))),Promise.try instanceof Function||(Promise.try=e=>new Promise((t=>t(e())))),Promise.withResolvers instanceof Function||(Promise.withResolvers=function(){const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e})
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */);class L{get encoding(){return"utf-8"}encode(e){return new Uint8Array(e.split("").flatMap((e=>{const t=e.charCodeAt(0);return t<128?[t]:[194+Math.floor((t-128)/64),t%64+128]})))}encodeInto(e,t){if(t instanceof Uint8Array){const n=this.encode(e),r=Math.min(t.length,n.length);return n.length>t.length?t.set(n.slice(0,r)):t.set(n),{read:r,written:r}}throw new TypeError("TextEncoder.encodeInto: Argument 2 does not implement interface Uint8Array.")}}
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */const k=["utf-8","utf8"];"TextEncoder"in globalThis||(globalThis.TextEncoder=L),"TextDecoder"in globalThis||(globalThis.TextDecoder=class{constructor(e="utf-8",{fatal:t=!1,ignoreBOM:n=!1}={}){if(e="string"!=typeof e?e.toString().toLowerCase():e.toLowerCase(),!k.includes(e))throw new RangeError(`TextDecoder constructor: The given encoding '${e}' is not supported.`);Object.defineProperties(this,{encoding:{configurable:!1,enumerable:!0,writable:!1,value:e},fatal:{configurable:!1,enumerable:!0,writable:!1,value:t},ignoreBOM:{configurable:!1,enumerable:!0,writable:!1,value:n}})}decode(e){switch(this.encoding){case"utf-8":case"utf8":{let t=NaN;return e.reduce(((e,n,r)=>{if(Number.isNaN(t)&&n<128)return e+String.fromCharCode(n);if(Number.isNaN(t)&&n>193)return t=n,e;if(t>193&&(128,194,"number"==typeof(i=n)&&i>=128&&i<=194)){const r=64*(t-194);return t=NaN,e+String.fromCharCode(r+n)}if(this.fatal)throw new RangeError(`Unhandled character at postion ${r}`);return t=NaN,e;var i}),"")}default:throw new TypeError(`Unsupported encoding '${this.encoding}'`)}}}),globalThis.TextEncoder.prototype.encodeInto instanceof Function||(globalThis.TextEncoder.prototype.encodeInto=function(...e){return L.prototype.encodeInto.apply(this,e)}),!(crypto in globalThis)||crypto.randomUUID instanceof Function||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 * @SEE https://wicg.github.io/cookie-store/
		 * @SEE https://wicg.github.io/cookie-store/explainer.html
		 * @NOTE: This offers similar methods but is not a substitute and cannot get extended
		 * cookie properties, such as expires, etc.
		 *
		 * @TODO verify spec compliance as best as is possible
		 */);const x="cookieStore"in globalThis,M={constructor:Symbol("constructor")};function P(){return 0===document.cookie.length?[]:document.cookie.split(";").map((e=>{const[t,n=null]=e.split("=");return{name:decodeURIComponent(t.trim()),value:"string"==typeof n?decodeURIComponent(n.trim()):null,path:void 0,expires:void 0,domain:void 0,sameSite:void 0,secure:void 0}}))}function N({name:e,value:t,expires:n=null,maxAge:r=null,path:i="/",sameSite:o="strict",domain:a=null,secure:s=!1,httpOnly:l=!1}){if(Number.isInteger(r))N({name:e,value:t,expires:Date.now()+r,path:i,sameSite:o,domain:a,secure:s,httpOnly:l});else{let r=`${encodeURIComponent(e)}=`;t&&(r+=encodeURIComponent(t)),Number.isInteger(n)?r+=`;expires=${new Date(n).toUTCString()}`:n instanceof Date&&(r+=`;expires=${n.toUTCString()}`),"string"==typeof i&&(r+=`;path=${i}`),"string"==typeof a&&(r+=`;domain=${a}`),"string"==typeof o&&(r+=`;sameSite=${o}`),!0===s&&(r+=";secure"),!0===l&&(r+=";httponly"),document.cookie=r}}class C extends EventTarget{constructor(e){if(e!==M.constructor)throw new DOMException("Invalid constructor");super(),Object.defineProperty(this,M.onchange,{enumerable:!1,configurable:!1,writable:!0,value:null})}get onchange(){return this[M.onchange]}set onchange(e){this[M.onchange]instanceof Function&&this.removeEventListener("change",this[M.onchange]),e instanceof Function&&this.addEventListener("change",e)}async get(e){const t=await this.getAll(e);return Array.isArray(t)&&0!==t.length?t[0]:null}async getAll(e){return function({name:e=null,value:t=null}={}){return"string"==typeof e&&(e=decodeURIComponent(e)),"string"==typeof t&&(t=decodeURIComponent(t)),"string"==typeof e&&"string"==typeof t?P().filter((n=>n.name===e&&n.value===t)):"string"==typeof e?P().filter((t=>t.name===e)):"string"==typeof t?P().filter((e=>e.value===t)):P()}("string"==typeof e?{name:e}:e)}async set(...e){if(1===e.length&&"string"==typeof e[0].name){const t=function({name:e,value:t=null,domain:n=null,path:r="/",expires:i=null,maxAge:o=null,sameSite:a="strict",secure:s=!1,httpOnly:l=!1}){return{name:e,value:t,domain:n,path:r,expires:i,maxAge:o,sameSite:a,secure:s,httpOnly:l}}(e[0]);N(t);const n=new Event("change");n.changed=[t],n.deleted=[],this.dispatchEvent(n)}else{if(2!==e.length)throw new Error("Invalid arguments");this.set({name:e[0],value:e[1]})}}async delete(e={}){if("string"==typeof e)this.delete({name:e});else{if("string"!=typeof e.name)throw new TypeError("Failed to execute 'delete' on 'CookieStore': required member name is undefined.");{const t=await this.getAll(e);if(0!==t.length){const n=new Event("change");n.changed=[],n.deleted=new Array(t.length),t.forEach(((t,r)=>{t.path=e.path||"/",t.domain=e.domain||null,t.secure=e.secure||null,delete t.value,t.sameSite=e.sameSite||"strict",n.deleted[r]=t,N({...t,value:null,expires:1})})),this.dispatchEvent(n)}}}}}const O=new C(M.constructor);
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */function F(){return"trustedTypes"in globalThis&&trustedTypes instanceof EventTarget&&trustedTypes.createPolicy instanceof Function}!x&&(globalThis.cookieStore=O),globalThis.hasOwnProperty("Animation")&&!Animation.prototype.hasOwnProperty("finished")&&Object.defineProperty(Animation.prototype,"finished",{get:function(){return new Promise(((e,t)=>{"finished"===this.playState?e(this):(this.addEventListener("finish",(()=>e(this)),{once:!0}),this.addEventListener("error",(e=>t(e)),{once:!0}))}))}}),globalThis.hasOwnProperty("Animation")&&!Animation.prototype.hasOwnProperty("ready")&&Object.defineProperty(Animation.prototype,"ready",{get:function(){return new Promise(((e,t)=>{this.pending?(this.addEventListener("ready",(()=>e(this)),{once:!0}),this.addEventListener("error",(e=>t(e)),{once:!0})):e(this)}))}});
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */
const I=Object.keys(Object.getOwnPropertyDescriptors(HTMLElement.prototype)).filter((e=>e.startsWith("on"))),R=["action","cite","formaction","href","ping","src"],U=o((async function(){const{ok:e,headers:t}=await fetch(location.href,{method:"HEAD"});if(e&&t.has("Content-Security-Policy")){const e=t.get("Content-Security-Policy").trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(e.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}}));function D(){const e=document.head.querySelector('meta[http-equiv="Content-Security-Policy"][content]');if(e instanceof HTMLMetaElement){const t=e.content.trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(t.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}return{}}
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */const z="1"===document.documentElement.dataset.fetchTrustCsp;function H({"trusted-types":e=null}={}){if(Array.isArray(e)){const t=new Set(e),n=t.has("'allow-duplicates'"),r=t.has("'none'");return n&&t.delete("'allow-duplicates'"),r&&t.clear(),t.add("empty#html"),t.add("empty#script"),{policies:t,allowDuplicates:n,hasNone:r}}return{}}const{allowDuplicates:j,allowedPolicies:q}=function(){const e=H(D());if("object"==typeof e&&e.policies instanceof Set){const{policies:t,allowDuplicates:n}=e;return{allowDuplicates:n,allowedPolicies:t}}{const e=(()=>{const e=H(D());return"object"==typeof e&&"allowDuplicates"in e?e.allowDuplicates:"1"===document.documentElement.dataset.allowTrustDuplicates})(),t=(()=>{if(document.documentElement.dataset.hasOwnProperty("trustedPolicies"))return new Set(["empty#html","empty#script",...document.documentElement.dataset.trustedPolicies.split(" ")]);{const{policies:e}=H(D());return e instanceof Set?e:new Set(["empty#html","empty#script"])}})();return t.has("'none'")&&t.clear(),t.add("empty#html"),t.add("empty#script"),{allowDuplicates:e,allowedPolicies:t}}}();F();const $={trustedValue:Symbol("[[Data]]"),trustedKey:Symbol("trusted-key"),emptyHTML:Symbol("policy-empty#html"),emptyScript:Symbol("policy-empty#script"),policy:Symbol.for("trust-policy"),defaultPolicy:Symbol("default-policy"),trustedTypesCSP:Symbol("trusted-types-csp")};Symbol.hasOwnProperty("toStringTag")||(Symbol.toStringTag=Symbol("Symbol.toStringTag"));const _=[];function W(e){return null!==function(e){return _.find((t=>t.name===e))||null}(e)}function V(e,t){return function(){throw new TypeError(`Failed to execute '${t}' on 'TrustedTypePolicy': Policy ${e.name}'s TrustedTypePolicyOptions did not specify a '${t}' member.`)}}class B{constructor(e,{key:t,policy:n}){if(t!==$.trustedKey)throw new TypeError("Invalid constructor");Object.defineProperties(this,{[$.trustedValue]:{enumerable:!1,configurable:!1,writable:!1,value:e.toString()},[$.policy]:{enumerable:!1,configurable:!1,writable:!1,value:n.name}}),Object.freeze(this)}toString(){return this.valueOf()}toJSON(){return this.valueOf()}valueOf(){return this[$.trustedValue]}}class G extends B{[Symbol.toStringTag](){return"TrustedHTML"}}class K extends B{[Symbol.toStringTag](){return"TrustedScript"}}class J extends B{[Symbol.toStringTag](){return"TrustedScriptURL"}}class X{constructor(e,{createHTML:t,createScript:n,createScriptURL:r}={},{key:i}){if(i!==$.trustedKey)throw new TypeError("Invalid constructor");Object.defineProperties(this,{name:{enumerable:!0,configurable:!1,writable:!1,value:e.toString()},createHTML:{enumerable:!0,configurable:!1,writable:!1,value:t instanceof Function?(e,...n)=>new G(t(e.toString(),...n),{key:$.trustedKey,policy:this}):V(this,"createHTML")},createScript:{enumerable:!0,configurable:!1,writable:!1,value:n instanceof Function?(e,...t)=>new K(n(e.toString(),...t),{key:$.trustedKey,policy:this}):V(this,"createScript")},createScriptURL:{enumerable:!0,configurable:!1,writable:!1,value:r instanceof Function?(e,...t)=>new J(r(e.toString(),...t),{key:$.trustedKey,policy:this}):V(this,"createScriptURL")}})}}class Q extends EventTarget{constructor(e){if(super(),e!==$.trustedKey)throw new TypeError("Invalid constructor");z&&async function(){const{policies:e,allowDuplicates:t=!1,hasNone:n=!1}=await U().then(H);return e instanceof Set?{policies:e,allowDuplicates:t,hasNone:n}:{}}().then((({policies:e,allowDuplicates:t=!1,hasNone:n=!1})=>{void 0!==e&&Object.defineProperty(Q,$.trustedTypesCSP,{value:{policies:e,allowDuplicates:t,hasNone:n},enumberable:!1,writable:!1,configurable:!1})})).catch((e=>console.error(e))),Object.defineProperties(this,{[$.defaultPolicy]:{enumerable:!1,configurable:!1,writable:!0,value:null},[$.emptyHTML]:{enumerable:!1,configurable:!1,writable:!1,value:this.createPolicy("empty#html",{createHTML:()=>""})},[$.emptyScript]:{enumerable:!1,configurable:!1,writable:!1,value:this.createPolicy("empty#script",{createScript:()=>""})}})}isHTML(e){return e instanceof globalThis.TrustedHTML}isScript(e){return e instanceof globalThis.TrustedScript}isScriptURL(e){return e instanceof globalThis.TrustedScriptURL}createPolicy(e,{createHTML:t,createScript:n,createScriptURL:r}={}){const i=new X(e,{createHTML:t,createScript:n,createScriptURL:r},{key:$.trustedKey});if(!e.toString().match(/^[-#a-zA-Z0-9=_/@.%]+$/g))throw new TypeError(`Failed to execute 'createPolicy' on 'TrustedTypePolicyFactory': Policy: "${e}" contains invalid characters.`);if(Q.hasOwnProperty($.trustedTypesCSP)){const{policies:t,allowDuplicates:n,hasNone:r}=Q[$.trustedTypesCSP];if(r&&"empty#html"!==e&&"empty#script"!==e)throw new TypeError(`Failed to execute 'createPolicy' on 'TrustedTypePolicyFactory': Policy: "${e}" disallowed.`);if(!t.has(e))throw new TypeError(`Failed to execute 'createPolicy' on 'TrustedTypePolicyFactory': Policy: "${e}" disallowed.`);if(!n&&W(e))throw new TypeError(`Failed to execute 'createPolicy' on 'TrustedTypePolicyFactory': Policy: "${e}" already exists.`)}else{if(q.size>2&&!q.has(e))throw new TypeError(`Failed to execute 'createPolicy' on 'TrustedTypePolicyFactory': Policy: "${e}" disallowed.`);if(!j&&W(e))throw new TypeError(`Failed to execute 'createPolicy' on 'TrustedTypePolicyFactory': Policy: "${e}" already exists.`)}return"default"===i.name&&(this[$.defaultPolicy]=i),_.push(i),i}getAttributeType(e,t,n){if(e=e.toLowerCase(),t=t.toLowerCase(),"string"==typeof elementNS&&0!==n.length)return I.includes(t)?"TrustedScript":null;if(I.includes(t))return"TrustedScript";switch(e){case"script":return"src"===t?"TrustedScriptURL":null;case"iframe":return"srcdoc"===t?"TrustedHTML":"src"===t?"TrustedScriptURL":null;default:return null}}getPropertyType(e,t){if(e=e.toLowerCase(),I.includes(t.toLowerCase()))return"TrustedScript";switch(e){case"embed":case"iframe":return"src"===t?"TrustedScriptURL":null;case"script":return"src"===t?"TrustedScriptURL":["text","innerText","textContent","innerHTML"].includes(t)?"TrustedScript":["outerHTML"].includes(t)?"TrustedHTML":null;default:return["innerHTML","outerHTML"].includes(t)?"TrustedHTML":null}}get emptyHTML(){return this[$.emptyHTML].createHTML("")}get emptyScript(){return this[$.emptyScript].createScript("")}get defaultPolicy(){return this[$.defaultPolicy]}get _isPolyfill_(){return!0}static get allowDuplicates(){return j}}const Y=new Q($.trustedKey);!function(){if("TrustedTypePolicyFactory"in globalThis||(globalThis.TrustedTypePolicyFactory=Q),"TrustedTypePolicy"in globalThis||(globalThis.TrustedTypePolicy=X),"TrustedType"in globalThis||(globalThis.TrustedType=B),"TrustedHTML"in globalThis||(globalThis.TrustedHTML=G),"TrustedScript"in globalThis||(globalThis.TrustedScript=K),"TrustedScriptURL"in globalThis||(globalThis.TrustedScriptURL=J),"trustedTypes"in globalThis)try{globalThis.trustedTypes.createPolicy("empty#html",{createHTML:()=>""}),globalThis.trustedTypes.createPolicy("empty#script",{createScript:()=>""})}catch(e){console.error(e)}else globalThis.trustedTypes=Y}();
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 * @see https://wicg.github.io/sanitizer-api/#default-configuration-dictionary
		 */
const Z=JSON.parse('{\n  "allowCustomElements": false,\n  "allowUnknownMarkup": false,\n  "allowElements": [\n    "a",\n    "abbr",\n    "acronym",\n    "address",\n    "area",\n    "article",\n    "aside",\n    "audio",\n    "b",\n    "bdi",\n    "bdo",\n    "bgsound",\n    "big",\n    "blockquote",\n    "body",\n    "br",\n    "button",\n    "canvas",\n    "caption",\n    "center",\n    "cite",\n    "code",\n    "col",\n    "colgroup",\n    "datalist",\n    "dd",\n    "del",\n    "details",\n    "dfn",\n    "dialog",\n    "dir",\n    "div",\n    "dl",\n    "dt",\n    "em",\n    "fieldset",\n    "figcaption",\n    "figure",\n    "font",\n    "footer",\n    "form",\n    "h1",\n    "h2",\n    "h3",\n    "h4",\n    "h5",\n    "h6",\n    "head",\n    "header",\n    "hgroup",\n    "hr",\n    "html",\n    "i",\n    "img",\n    "input",\n    "ins",\n    "kbd",\n    "keygen",\n    "label",\n    "layer",\n    "legend",\n    "li",\n    "link",\n    "listing",\n    "main",\n    "map",\n    "mark",\n    "marquee",\n    "menu",\n    "meta",\n    "meter",\n    "nav",\n    "nobr",\n    "ol",\n    "optgroup",\n    "option",\n    "output",\n    "p",\n    "picture",\n    "popup",\n    "pre",\n    "progress",\n    "q",\n    "rb",\n    "rp",\n    "rt",\n    "rtc",\n    "ruby",\n    "s",\n    "samp",\n    "section",\n    "select",\n    "selectmenu",\n    "small",\n    "source",\n    "span",\n    "strike",\n    "strong",\n    "style",\n    "sub",\n    "summary",\n    "sup",\n    "table",\n    "tbody",\n    "td",\n    "tfoot",\n    "th",\n    "thead",\n    "time",\n    "tr",\n    "track",\n    "tt",\n    "u",\n    "ul",\n    "var",\n    "video",\n    "wbr"\n  ],\n  "allowAttributes": {\n    "abbr": [\n      "*"\n    ],\n    "accept": [\n      "*"\n    ],\n    "accept-charset": [\n      "*"\n    ],\n    "accesskey": [\n      "*"\n    ],\n    "action": [\n      "*"\n    ],\n    "align": [\n      "*"\n    ],\n    "alink": [\n      "*"\n    ],\n    "allow": [\n      "*"\n    ],\n    "allowfullscreen": [\n      "*"\n    ],\n    "alt": [\n      "*"\n    ],\n    "anchor": [\n      "*"\n    ],\n    "archive": [\n      "*"\n    ],\n    "as": [\n      "*"\n    ],\n    "async": [\n      "*"\n    ],\n    "autocapitalize": [\n      "*"\n    ],\n    "autocomplete": [\n      "*"\n    ],\n    "autocorrect": [\n      "*"\n    ],\n    "autofocus": [\n      "*"\n    ],\n    "autopictureinpicture": [\n      "*"\n    ],\n    "autoplay": [\n      "*"\n    ],\n    "axis": [\n      "*"\n    ],\n    "background": [\n      "*"\n    ],\n    "behavior": [\n      "*"\n    ],\n    "bgcolor": [\n      "*"\n    ],\n    "border": [\n      "*"\n    ],\n    "bordercolor": [\n      "*"\n    ],\n    "capture": [\n      "*"\n    ],\n    "cellpadding": [\n      "*"\n    ],\n    "cellspacing": [\n      "*"\n    ],\n    "challenge": [\n      "*"\n    ],\n    "char": [\n      "*"\n    ],\n    "charoff": [\n      "*"\n    ],\n    "charset": [\n      "*"\n    ],\n    "checked": [\n      "*"\n    ],\n    "cite": [\n      "*"\n    ],\n    "class": [\n      "*"\n    ],\n    "classid": [\n      "*"\n    ],\n    "clear": [\n      "*"\n    ],\n    "code": [\n      "*"\n    ],\n    "codebase": [\n      "*"\n    ],\n    "codetype": [\n      "*"\n    ],\n    "color": [\n      "*"\n    ],\n    "cols": [\n      "*"\n    ],\n    "colspan": [\n      "*"\n    ],\n    "compact": [\n      "*"\n    ],\n    "content": [\n      "*"\n    ],\n    "contenteditable": [\n      "*"\n    ],\n    "controls": [\n      "*"\n    ],\n    "controlslist": [\n      "*"\n    ],\n    "conversiondestination": [\n      "*"\n    ],\n    "coords": [\n      "*"\n    ],\n    "crossorigin": [\n      "*"\n    ],\n    "csp": [\n      "*"\n    ],\n    "data": [\n      "*"\n    ],\n    "datetime": [\n      "*"\n    ],\n    "declare": [\n      "*"\n    ],\n    "decoding": [\n      "*"\n    ],\n    "default": [\n      "*"\n    ],\n    "defer": [\n      "*"\n    ],\n    "dir": [\n      "*"\n    ],\n    "direction": [\n      "*"\n    ],\n    "dirname": [\n      "*"\n    ],\n    "disabled": [\n      "*"\n    ],\n    "disablepictureinpicture": [\n      "*"\n    ],\n    "disableremoteplayback": [\n      "*"\n    ],\n    "disallowdocumentaccess": [\n      "*"\n    ],\n    "download": [\n      "*"\n    ],\n    "draggable": [\n      "*"\n    ],\n    "elementtiming": [\n      "*"\n    ],\n    "enctype": [\n      "*"\n    ],\n    "end": [\n      "*"\n    ],\n    "enterkeyhint": [\n      "*"\n    ],\n    "event": [\n      "*"\n    ],\n    "exportparts": [\n      "*"\n    ],\n    "face": [\n      "*"\n    ],\n    "for": [\n      "*"\n    ],\n    "form": [\n      "*"\n    ],\n    "formaction": [\n      "*"\n    ],\n    "formenctype": [\n      "*"\n    ],\n    "formmethod": [\n      "*"\n    ],\n    "formnovalidate": [\n      "*"\n    ],\n    "formtarget": [\n      "*"\n    ],\n    "frame": [\n      "*"\n    ],\n    "frameborder": [\n      "*"\n    ],\n    "headers": [\n      "*"\n    ],\n    "height": [\n      "*"\n    ],\n    "hidden": [\n      "*"\n    ],\n    "high": [\n      "*"\n    ],\n    "href": [\n      "*"\n    ],\n    "hreflang": [\n      "*"\n    ],\n    "hreftranslate": [\n      "*"\n    ],\n    "hspace": [\n      "*"\n    ],\n    "http-equiv": [\n      "*"\n    ],\n    "id": [\n      "*"\n    ],\n    "imagesizes": [\n      "*"\n    ],\n    "imagesrcset": [\n      "*"\n    ],\n    "importance": [\n      "*"\n    ],\n    "impressiondata": [\n      "*"\n    ],\n    "impressionexpiry": [\n      "*"\n    ],\n    "incremental": [\n      "*"\n    ],\n    "inert": [\n      "*"\n    ],\n    "inputmode": [\n      "*"\n    ],\n    "integrity": [\n      "*"\n    ],\n    "invisible": [\n      "*"\n    ],\n    "is": [\n      "*"\n    ],\n    "ismap": [\n      "*"\n    ],\n    "keytype": [\n      "*"\n    ],\n    "kind": [\n      "*"\n    ],\n    "label": [\n      "*"\n    ],\n    "lang": [\n      "*"\n    ],\n    "language": [\n      "*"\n    ],\n    "latencyhint": [\n      "*"\n    ],\n    "leftmargin": [\n      "*"\n    ],\n    "link": [\n      "*"\n    ],\n    "list": [\n      "*"\n    ],\n    "loading": [\n      "*"\n    ],\n    "longdesc": [\n      "*"\n    ],\n    "loop": [\n      "*"\n    ],\n    "low": [\n      "*"\n    ],\n    "lowsrc": [\n      "*"\n    ],\n    "manifest": [\n      "*"\n    ],\n    "marginheight": [\n      "*"\n    ],\n    "marginwidth": [\n      "*"\n    ],\n    "max": [\n      "*"\n    ],\n    "maxlength": [\n      "*"\n    ],\n    "mayscript": [\n      "*"\n    ],\n    "media": [\n      "*"\n    ],\n    "method": [\n      "*"\n    ],\n    "min": [\n      "*"\n    ],\n    "minlength": [\n      "*"\n    ],\n    "multiple": [\n      "*"\n    ],\n    "muted": [\n      "*"\n    ],\n    "name": [\n      "*"\n    ],\n    "nohref": [\n      "*"\n    ],\n    "nomodule": [\n      "*"\n    ],\n    "nonce": [\n      "*"\n    ],\n    "noresize": [\n      "*"\n    ],\n    "noshade": [\n      "*"\n    ],\n    "novalidate": [\n      "*"\n    ],\n    "nowrap": [\n      "*"\n    ],\n    "object": [\n      "*"\n    ],\n    "open": [\n      "*"\n    ],\n    "optimum": [\n      "*"\n    ],\n    "part": [\n      "*"\n    ],\n    "pattern": [\n      "*"\n    ],\n    "ping": [\n      "*"\n    ],\n    "placeholder": [\n      "*"\n    ],\n    "playsinline": [\n      "*"\n    ],\n    "policy": [\n      "*"\n    ],\n    "poster": [\n      "*"\n    ],\n    "preload": [\n      "*"\n    ],\n    "pseudo": [\n      "*"\n    ],\n    "readonly": [\n      "*"\n    ],\n    "referrerpolicy": [\n      "*"\n    ],\n    "rel": [\n      "*"\n    ],\n    "reportingorigin": [\n      "*"\n    ],\n    "required": [\n      "*"\n    ],\n    "resources": [\n      "*"\n    ],\n    "rev": [\n      "*"\n    ],\n    "reversed": [\n      "*"\n    ],\n    "role": [\n      "*"\n    ],\n    "rows": [\n      "*"\n    ],\n    "rowspan": [\n      "*"\n    ],\n    "rules": [\n      "*"\n    ],\n    "sandbox": [\n      "*"\n    ],\n    "scheme": [\n      "*"\n    ],\n    "scope": [\n      "*"\n    ],\n    "scopes": [\n      "*"\n    ],\n    "scrollamount": [\n      "*"\n    ],\n    "scrolldelay": [\n      "*"\n    ],\n    "scrolling": [\n      "*"\n    ],\n    "select": [\n      "*"\n    ],\n    "selected": [\n      "*"\n    ],\n    "shadowroot": [\n      "*"\n    ],\n    "shadowrootdelegatesfocus": [\n      "*"\n    ],\n    "shape": [\n      "*"\n    ],\n    "size": [\n      "*"\n    ],\n    "sizes": [\n      "*"\n    ],\n    "slot": [\n      "*"\n    ],\n    "span": [\n      "*"\n    ],\n    "spellcheck": [\n      "*"\n    ],\n    "src": [\n      "*"\n    ],\n    "srcdoc": [\n      "*"\n    ],\n    "srclang": [\n      "*"\n    ],\n    "srcset": [\n      "*"\n    ],\n    "standby": [\n      "*"\n    ],\n    "start": [\n      "*"\n    ],\n    "step": [\n      "*"\n    ],\n    "style": [\n      "*"\n    ],\n    "summary": [\n      "*"\n    ],\n    "tabindex": [\n      "*"\n    ],\n    "target": [\n      "*"\n    ],\n    "text": [\n      "*"\n    ],\n    "title": [\n      "*"\n    ],\n    "topmargin": [\n      "*"\n    ],\n    "translate": [\n      "*"\n    ],\n    "truespeed": [\n      "*"\n    ],\n    "trusttoken": [\n      "*"\n    ],\n    "type": [\n      "*"\n    ],\n    "usemap": [\n      "*"\n    ],\n    "valign": [\n      "*"\n    ],\n    "value": [\n      "*"\n    ],\n    "valuetype": [\n      "*"\n    ],\n    "version": [\n      "*"\n    ],\n    "virtualkeyboardpolicy": [\n      "*"\n    ],\n    "vlink": [\n      "*"\n    ],\n    "vspace": [\n      "*"\n    ],\n    "webkitdirectory": [\n      "*"\n    ],\n    "width": [\n      "*"\n    ],\n    "wrap": [\n      "*"\n    ]\n  }\n}'),ee=["https:"];ee.includes(location.protocol)||ee.push(location.protocol);const te=o((()=>function(e,{createHTML:t=(()=>{throw new TypeError("This policy does not provide `createHTML()`")}),createScript:n=(()=>{throw new TypeError("This policy does not provide `createScript()`")}),createScriptURL:r=(()=>{throw new TypeError("This policy does not provide `createScriptURL()`")})}){return F()?trustedTypes.createPolicy(e,{createHTML:t,createScript:n,createScriptURL:r}):Object.freeze({name:e,createHTML:(e,...n)=>t(e.toString(),...n),createScript:(e,...t)=>n(e.toString(),...t),createScriptURL:(e,...t)=>r(e.toString(),...t)})}("sanitizer-raw#html",{createHTML:e=>e}))),ne=e=>te().createHTML(e);function re(e,{config:t=Z}={}){if(e instanceof Node){if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return ie(e,t);if(e.nodeType===Node.DOCUMENT_NODE)return ie(function(e){const t=document.createDocumentFragment(),n=e.cloneNode(!0);return t.append(...n.head.childNodes,...n.body.childNodes),t}(e),{config:t});throw new TypeError("sanitize requires a Document or DocumentFragment")}throw new TypeError("sanitize requires a Document or DocumentFragment")}function ie(e,{config:t=Z}={}){try{if(!(e instanceof Node))throw new TypeError(`Expected a Node but got a ${i(e)}.`);if(!r(t))throw new TypeError(`Expected config to be an object but got ${i(t)}.`);const{allowElements:n,allowComments:o,allowAttributes:a,allowCustomElements:s,blockElements:l,dropAttributes:c,dropElements:u,allowUnknownMarkup:d}=t;switch(e.nodeType){case Node.TEXT_NODE:break;case Node.ELEMENT_NODE:{if(!d&&(!(e instanceof HTMLElement)||e instanceof HTMLUnknownElement)){e.remove();break}const r=e.tagName.toLowerCase();Array.isArray(u)&&u.includes(r)?e.remove():Array.isArray(l)&&l.includes(r)?e.hasChildNodes()?([...e.childNodes].forEach((e=>ie(e,t))),e.replaceWith(...e.childNodes)):e.remove():r.includes("-")&&!s||Array.isArray(n)&&!n.includes(r)?e.remove():"template"===r?ie(e.content,t):(e.hasAttributes()&&e.getAttributeNames().forEach((n=>ie(e.getAttributeNode(n),t))),e.hasChildNodes()&&[...e.childNodes].forEach((e=>ie(e,t))));break}case Node.ATTRIBUTE_NODE:{const{value:t,ownerElement:n}=e,i=e.name.toLowerCase(),o=n.tagName.toLowerCase();R.includes(i)&&!ee.includes(new URL(t,document.baseURI).protocol)?n.removeAttributeNode(e):r(c)?i in c&&["*",o].some((e=>c[i].includes(e)))&&(n.removeAttributeNode(e),i.startsWith("on")&&delete n[i]):r(a)&&(i.startsWith("data-")||i in a&&["*",o].some((e=>a[i].includes(e)))||(n.removeAttributeNode(e),i.startsWith("on")&&delete n[i]));break}case Node.COMMENT_NODE:o||e.remove();break;case Node.DOCUMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:e.hasChildNodes()&&[...e.childNodes].forEach((e=>ie(e,t)));break;case Node.CDATA_SECTION_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.DOCUMENT_TYPE_NODE:default:e.parentElement.removeChild(e)}}catch(t){e.parentElement.removeChild(e),console.error(t)}return e}
/**
		 * @copyright 2022-2023 Chris Zuber <admin@kernvalley.us>
		 */const oe=new WeakMap;class ae{constructor({allowElements:e,allowAttributes:t,blockElements:n,dropAttributes:r,dropElements:i,allowComments:o=Z.allowComments,allowCustomElements:a=Z.allowCustomElements,allowUnknownMarkup:s=Z.allowUnknownMarkup}=ae.getDefaultConfiguration()){oe.set(this,{allowElements:e,allowComments:o,allowAttributes:t,allowCustomElements:a,blockElements:n,dropAttributes:r,dropElements:i,allowUnknownMarkup:s})}getConfiguration(){return oe.get(this)}sanitize(e){return re(e,{config:this.getConfiguration()})}sanitizeFor(e,t){return function(e,t,{config:n=Z}={}){const r=document.createElement(e),i=document.createElement("template");return i.innerHTML=ne(t),r.append(re(i.content,{config:n})),r}(e,t,{config:this.getConfiguration()})}static getDefaultConfiguration(){return Z}}const{setHTML:se,polyfill:le}=function(e,t){return{setHTML:function(t,n,{sanitizer:r=new e}={}){const i=r.sanitizeFor("div",n);t.replaceChildren(...i.children)},polyfill:function(){let n=!1;if("Sanitizer"in globalThis){if(globalThis.Sanitizer.getDefaultConfiguration instanceof Function||(globalThis.Sanitizer.getDefaultConfiguration=function(){return t},n=!0),!(globalThis.Sanitizer.prototype.getConfiguration instanceof Function)){const e=new WeakMap,t=globalThis.Sanitizer;globalThis.Sanitizer=class extends t{constructor({allowAttributes:n,allowComments:r,allowElements:i,allowCustomElements:o,blockElements:a,dropAttributes:s,dropElements:l,allowUnknownMarkup:c}=t.getDefaultConfiguration()){super({allowAttributes:n,allowComments:r,allowElements:i,allowCustomElements:o,blockElements:a,dropAttributes:s,dropElements:l,allowUnknownMarkup:c}),e.set(this,{allowAttributes:n,allowComments:r,allowElements:i,allowCustomElements:o,blockElements:a,dropAttributes:s,dropElements:l,allowUnknownMarkup:c})}getConfiguration(){return e.get(this)}},n=!0}globalThis.Sanitizer.prototype.sanitize instanceof Function||(globalThis.Sanitizer.prototype.sanitize=function(e){if(e instanceof Node){if([Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE].includes(e.nodeType))return re(e,{config:this.getConfiguration()});throw new TypeError("Expected a Document or DocumentFragment in `Sanitizer.sanitize()`.")}throw new TypeError("`Sanitizer.sanitize()` expects a `Node`")},n=!0),!(globalThis.Sanitizer.prototype.sanitizeFor instanceof Function)&&Element.prototype.setHTML instanceof Function?(globalThis.Sanitizer.prototype.sanitizeFor=function(e,t){const n=document.createElement(e);return n.setHTML(t,{sanitizer:this}),n},n=!0):globalThis.Sanitizer.prototype.sanitizeFor instanceof Function||(globalThis.Sanitizer.prototype.sanitizeFor=function(e,t){const n=document.createElement(e),r=document.createElement("template");return r.innerHTML=ne(t),n.append(this.sanitize(r.content)),n},n=!0),Element.prototype.setHTML instanceof Function||(Element.prototype.setHTML=function(e,{sanitizer:t=new globalThis.Sanitizer}={}){const n=t.sanitizeFor("div",e);this.replaceChildren(...n.children)},n=!0)}else globalThis.Sanitizer=e,n=!0;return n}}}(ae,Z);le();const ce={ariaAtomic:"aria-atomic",ariaAutoComplete:"aria-autocomplete",ariaBusy:"aria-busy",ariaChecked:"aria-checked",ariaColCount:"aria-colcount",ariaColIndex:"aria-colindex",ariaColIndexText:"aria-colindextext",ariaColSpan:"aria-colspan",ariaCurrent:"aria-current",ariaDisabled:"aria-disabled",ariaExpanded:"aria-expanded",ariaHasPopup:"aria-haspopup",ariaHidden:"aria-hidden",ariaInvalid:"aria-invalid",ariaKeyShortcuts:"aria-keyshortcuts",ariaLabel:"aria-label",ariaLevel:"aria-level",ariaLive:"aria-live",ariaModal:"aria-modal",ariaMultiLine:"aria-multiline",ariaMultiSelectable:"aria-multiselectable",ariaOrientation:"aria-orientation",ariaPlaceholder:"aria-placeholder",ariaPosInSet:"aria-posinset",ariaPressed:"aria-pressed",ariaReadOnly:"aria-readonly",ariaRelevant:"aria-relevant",ariaRequired:"aria-required",ariaRoleDescription:"aria-roledescription",ariaRowCount:"aria-rowcount",ariaRowIndex:"aria-rowindex",ariaRowIndexText:"aria-rowindextext",ariaRowSpan:"aria-rowspan",ariaSelected:"aria-selected",ariaSetSize:"aria-setsize",ariaSort:"aria-sort",ariaValueMax:"aria-valuemax",ariaValueMin:"aria-valuemin",ariaValueNow:"aria-valuenow",ariaValueText:"aria-valuetext",role:"role"};if(HTMLScriptElement.supports instanceof Function||(HTMLScriptElement.supports=function(e){switch(e.toLowerCase()){case"classic":return!0;case"module":return"noModule"in HTMLScriptElement.prototype;default:return!1}}),!Element.prototype.hasOwnProperty(ce.role)){const e=!0,t=!0,n=Object.fromEntries(Object.entries(ce).map((([n,r])=>[n,{get:function(){return this.getAttribute(r)},set:function(e){"string"==typeof e?this.setAttribute(r,e):this.removeAttribute(r)},enumerable:e,configurable:t}])));Object.defineProperties(Element.prototype,n)}if(!HTMLElement.prototype.hasOwnProperty("inert")){const e=new WeakMap,t=n=>{e.has(n)&&(n.tabIndex=e.get(n)),n.hasChildNodes()&&[...n.children].forEach(t)},n=t=>{-1!==t.tabIndex&&(e.set(t,t.tabIndex),t.tabIndex=-1),t.hasChildNodes()&&[...t.children].forEach(n)};Object.defineProperty(HTMLElement.prototype,"inert",{get:function(){return this.hasAttribute("inert")},set:function(e){e?(this.setAttribute("aria-hidden","true"),this.setAttribute("inert",""),n(this)):(this.removeAttribute("aria-hidden"),this.removeAttribute("inert"),t(this))},enumerable:!0,configurable:!0})}if(HTMLImageElement.prototype.hasOwnProperty("complete")||Object.defineProperty(HTMLImageElement.prototype,"complete",{get:function(){return""===this.src||this.naturalHeight>0}}),HTMLImageElement.prototype.decode instanceof Function||(HTMLImageElement.prototype.decode=function(){return this.complete?Promise.resolve():new Promise(((e,t)=>{const n=()=>{this.removeEventListener("error",r),this.removeEventListener("load",n),e()},r=e=>{this.removeEventListener("error",r),this.removeEventListener("load",n),t(e)};this.addEventListener("load",n),this.addEventListener("error",r)}))}),!(Element.prototype.setHTML instanceof Function)&&"Sanitizer"in globalThis&&globalThis.Sanitizer.prototype.sanitizeFor instanceof Function&&(Element.prototype.setHTML=function(e,{sanitizer:t=new globalThis.Sanitizer}={}){if(!("Sanitizer"in globalThis&&t instanceof globalThis.Sanitizer||void 0!==t&&t.sanitizeFor instanceof Function))throw new TypeError("`sanitizer` is not a valid Sanitizer");{const n=t.sanitizeFor(this.tagName.toLowerCase(),e);this.replaceChildren(...n.children)}}),!HTMLTemplateElement.prototype.hasOwnProperty("shadowRootMode")){Object.defineProperty(HTMLTemplateElement.prototype,"shadowRootMode",{get:function(){return this.getAttribute("shadowrootmode")},set:function(e){this.setAttribute("shadowrootmode",e)},enumerable:!0,configurable:!0});const e=(t=document)=>{t.querySelectorAll("template[shadowrootmode]").forEach((t=>{const n=t.parentElement.attachShadow({mode:t.shadowRootMode});n.append(t.content),t.remove(),e(n)}))};"loading"===document.readyState?document.addEventListener("readystatechange",(()=>e(document)),{once:!0}):e(document)}Set.prototype.intersection instanceof Function||(Set.prototype.intersection=function(e){return e instanceof Set||(e=new Set(e)),new Set([...this].filter((t=>e.has(t))))}),Set.prototype.difference instanceof Function||(Set.prototype.difference=function(e){return e instanceof Set||(e=new Set(e)),new Set([...this].filter((t=>!e.has(t))))}),Set.prototype.union instanceof Function||(Set.prototype.union=function(e){return new Set([...this,...e])}),Set.prototype.isSubsetOf instanceof Function||(Set.prototype.isSubsetOf=function(e){return e instanceof Set||(e=new Set(e)),[...this].every((t=>e.has(t)))}),Set.prototype.isSupersetOf instanceof Function||(Set.prototype.isSupersetOf=function(e){return e instanceof Set||(e=new Set(e)),e.isSubsetOf(this)}),Set.prototype.symmetricDifference instanceof Function||(Set.prototype.symmetricDifference=function(e){return e instanceof Set||(e=new Set(e)),new Set([...this.difference(e),...e.difference(this)])}),Set.prototype.isDisjointFrom instanceof Function||(Set.prototype.isDisjointFrom=function(e){return e instanceof Set||(e=new Set(e)),new Set([...this,...e]).size===this.size+e.size}),Map.prototype.emplace instanceof Function||(Map.prototype.emplace=function(e,{insert:t,update:n}={}){const r=this.has(e);if(r&&n instanceof Function){const t=this.get(e),r=n.call(this,t,e,this);return r!==t&&this.set(e,r),r}if(r)return this.get(e);if(t instanceof Function){const n=t.call(this,e,this);return this.set(e,n),n}throw new Error("Key is not found and no `insert()` given")}),WeakMap.prototype.emplace instanceof Function||(WeakMap.prototype.emplace=function(e,{insert:t,update:n}={}){const r=this.has(e);if(r&&n instanceof Function){const t=this.get(e),r=n.call(this,t,e,this);return r!==t&&this.set(e,t),r}if(r)return this.get(e);if(t instanceof Function){const n=t.call(this,e,this);return this.set(e,n),n}throw new Error("Key is not found and no `insert()` given")}),function(){if("screen"in globalThis&&!(globalThis.getScreenDetails instanceof Function)){class e extends EventTarget{get availHeight(){return screen.availHeight}get availLeft(){return screen.availLeft}get availTop(){return screen.availTop}get availWidth(){return screen.availWidth}get colorDepth(){return screen.colorDepth}get devicePixelRatio(){return globalThis.devicePixelRatio||1}get height(){return screen.height}get isExtended(){return screen.isExtended}get isInternal(){return!0}get isPrimary(){return!0}get label(){return"Unknown"}get orientation(){return screen.orientation}get pixelDepth(){return screen.pixelDepth}get top(){return screen.top}get width(){return screen.width}}class t extends EventTarget{get currentScreen(){return new e}get screens(){return[this.currentScreen]}}Object.defineProperty(Screen.prototype,"isExtended",{enumerable:!0,configurable:!0,get:()=>!1}),globalThis.getScreenDetails=async()=>new t}}();
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 */
const ue="user-visible";async function de(e,{delay:t=0,signal:n}={}){return new Promise(((r,i)=>{if(n instanceof AbortSignal&&n.aborted)i(n.reason);else{const o=new AbortController,a=setTimeout((()=>{r(e()),o.abort()}),t);n instanceof AbortSignal&&n.addEventListener("abort",(({target:e})=>{i(e.reason),clearTimeout(a)}),{once:!0,signal:o.signal})}}))}"scheduler"in globalThis||(globalThis.scheduler=new class{async postTask(e,{priority:t=ue,delay:n,signal:r}={}){return new Promise(((i,o)=>{if(r instanceof AbortSignal&&r.aborted)o(r.reason);else switch(t){case"user-blocking":"number"==typeof n&&!Number.isNaN(n)&&n>0?de(e,{delay:n,signal:r}).then(i,o):i((async()=>await e())());break;case ue:if("number"==typeof n&&!Number.isNaN(n)&&n>0)de((()=>requestAnimationFrame((async()=>{try{const t=await e();i(t)}catch(e){o(e)}}))),{delay:n,signal:r}).catch(o);else{const t=new AbortController,n=requestAnimationFrame((async()=>{try{const t=await e();i(t)}catch(e){o(e)}finally{t.abort()}}));r instanceof AbortSignal&&r.addEventListener("abort",(({target:e})=>{cancelAnimationFrame(n),o(e.reason)}),{once:!0,signal:t.signal})}break;case"background":if("number"==typeof n&&!Number.isNaN(n)&&n>0)de((()=>requestIdleCallback((async()=>{try{const t=await e();i(t)}catch(e){o(e)}}))),{delay:n,signal:r}).catch(o);else{const t=new AbortController,n=requestIdleCallback((async()=>{try{const t=await e();i(t)}catch(e){o(e)}finally{t.abort()}}));r instanceof AbortSignal&&r.addEventListener("abort",(({target:e})=>{cancelIdleCallback(n),o(e.reason)}),{once:!0,signal:t.signal})}break;default:throw new TypeError(`Scheduler.postTask: '${t}' (value of 'priority' member of SchedulerPostTaskOptions) is not a valid value for enumeration TaskPriority.`)}}))}}
/**
		 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
		 * @see https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals
		 * @see https://caniuse.com/mdn-api_formdataevent
		 * @see https://caniuse.com/mdn-api_elementinternals
		 * @todo: Figure out how to cleanup MutationObserver for removed inputs
		 * @todo: Can I add a MutationObserver to automatically set/unset forms,
		 * even in `ShadowRoot`s?
		 *
		 * This polyfill needs a bit of extra work from the custom element to work.
		 * Check if `internals._polyfilled` to see if extra steps are necessary:
		 * - Call `internals._associateForm(form, this)` in `connectedCallback()`
		 * - Call again with `(null, this)` in `disconnectedCallback()` to disassociate
		 *
		 * Additionally, if `internals.states._polyfilled`
		 * - Use `._state--*` in addition to `:--*` to query element internals states
		 * - This includes `:disabled` -> `._state--disabled` & `:invalid` -> `._state--invalid`
		 */);const pe={key:Symbol("key"),internals:Symbol("element-internals"),form:Symbol("form"),fieldset:Symbol("fieldset"),element:Symbol("element"),validity:Symbol("validity"),validationMessage:Symbol("validation-message"),value:Symbol("value"),state:Symbol("state"),formController:Symbol("form-controller"),anchor:Symbol("anchor"),customInputs:Symbol("custom-inputs")};if(!(HTMLElement.prototype.attachInternals instanceof Function)&&"FormDataEvent"in globalThis){const e={valueMissing:!1,typeMismatch:!1,patternMismatch:!1,tooLong:!1,tooShort:!1,rangeUnderflow:!1,rangeOverflow:!1,stepMismatch:!1,badInput:!1,customError:!1,valid:!0},t=e=>e.hasOwnProperty(pe.fieldset)&&e[pe.fieldset]instanceof HTMLFieldSetElement&&e[pe.fieldset].disabled,n=e=>e instanceof HTMLElement&&e.tagName.includes("-")&&customElements.get(e.tagName.toLowerCase()).formAssociated,r=(e,t)=>function(n){if(n.target.reportValidity()){if(t.willValidate&&n.formData instanceof FormData){const r=t[pe.value];r instanceof FormData?r.entries().forEach((([e,t])=>n.formData.set(e,t))):e.hasAttribute("name")&&n.formData.set(e.getAttribute("name"),t[pe.value])}}else n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation()},i=(e,t)=>{Object.entries(t).forEach((([t,n])=>e.style.setProperty(t,n)))},o=e=>e.hasAttribute("form")&&document.forms[e.getAttribute("form")]||e.closest("form"),a=(e,t,i)=>{if(e instanceof HTMLFormElement){if(!(i instanceof HTMLElement&&i.tagName.includes("-")))throw new TypeError("Not a custom element");if(!(t instanceof c||t instanceof globalThis.ElementInternals))throw new TypeError("Invalid ElementInternals");if(!n(i))throw new TypeError(`${i.tagName} is not form associated.`);if(!(i.formAssociatedCallback instanceof Function))throw new TypeError(`${i.tagName} is missing a formAssociatedCallback method.`);{const n=new AbortController,o=i.closest("fieldset");o instanceof Element&&(i[pe.fieldset]=o,o.hasOwnProperty(pe.customInputs)||(o[pe.customInputs]=new Set),o[pe.customInputs].add(i),s.observe(o,l)),t[pe.form]=e,t[pe.formController]=n;const{checkValidity:a,reportValidity:c}=e;e.reportValidity=function(){return!!c.call(this)&&t.reportValidity()},e.checkValidity=function(){return!!a.call(this)&&t.checkValidity()},n.signal.addEventListener("abort",(()=>{e.reportValidity=c,e.checkValidity=a}),{once:!0}),e.addEventListener("formdata",r(i,t),{signal:n.signal}),e.addEventListener("submit",(e=>{e.target.reportValidity()||(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())}),{signal:n.signal}),i.formResetCallback instanceof Function&&e.addEventListener("reset",(()=>i.formResetCallback()),{signal:n.signal})}}else if(t[pe.formController]instanceof AbortController&&t[pe.formController].abort(),t[pe.form]=null,t[pe.formController]=null,i.hasOwnProperty(pe.fieldset)){const e=i[pe.fieldset];e.hasOwnProperty(pe.customInputs)&&(e[pe.customInputs].delete(i),0===e[pe.customInputs.size]&&delete e[pe.customInputs]),i[pe.fieldset]=null}},s=new MutationObserver((e=>{e.forEach((({target:r,type:i,attributeName:o})=>{if("attributes"===i&&"disabled"===o){const i=r.hasAttribute("disabled");if(n(r)&&r.hasOwnProperty(pe.internals)&&r[pe.internals].states.has("--disabled")!==i&&(1===e.length?!t(r):r.hasAttribute("disabled")===t(r)&&e.some((e=>e.target.isSameNode(r[pe.fieldset]))))){const e=r[pe.internals];i?e.states.add("--disabled"):e.states.delete("--disabled"),r.formDisabledCallback instanceof Function&&r.formDisabledCallback(i)}else"FIELDSET"!==r.tagName||!r.hasOwnProperty(pe.customInputs)||1!==e.length&&e.some((e=>r[pe.customInputs].has(e.target)))||r[pe.customInputs].forEach((e=>{e.isConnected&&e.hasOwnProperty(pe.internals)?e.hasAttribute("disabled")||(i?e[pe.internals].states.add("--disabled"):e[pe.internals].states.delete("--disabled"),e.formDisabledCallback instanceof Function&&e.formDisabledCallback(i)):r[pe.customInputs].delete(e)}))}}))})),l={attributes:!0,attributeFilter:["disabled"]};class c{constructor(t,r){if(r!==pe.key)throw new TypeError("Illegal constructor");if(!(t instanceof HTMLElement))throw new TypeError("Must be called on an HTMLElement");if(!t.tagName.includes("-"))throw new DOMException("Cannot attach internals to a built-in element.");{const r=!0,i=!1,o=!0;Object.defineProperties(this,{[pe.element]:{value:t,configurable:r,enumerable:i,writable:o},[pe.form]:{value:null,configurable:r,enumerable:i,writable:o},[pe.fieldset]:{value:null,configurable:r,enumerable:i,writable:o},[pe.anchor]:{value:null,configurable:r,enumerable:i,writable:o},[pe.validity]:{value:e,configurable:r,enumerable:i,writable:o},[pe.validationMessage]:{value:"",configurable:r,enumerable:i,writable:o},[pe.value]:{value:null,configurable:r,enumerable:i,writable:o},[pe.state]:{value:null,configurable:r,enumerable:i,writable:o},[pe.formController]:{value:null,configurable:r,enumerable:i,writable:o}}),n(t)&&s.observe(t,l),Object.defineProperty(t,pe.internals,{value:this,enumerable:!1,configurable:!1,writable:!1}),setTimeout((()=>this.states.add("--element-internals-polyfilled")),10)}}get form(){return this[pe.form]}get labels(){const e=this.form;return e instanceof HTMLFormElement&&0!==this[pe.element].id.length?e.querySelectorAll(`label[for="${this[pe.element].id}"]`):document.createDocumentFragment().childNodes}get _polyfilled(){return!0}get shadowRoot(){return this[pe.element].shadowRoot}get validity(){return n(this[pe.element])?this[pe.validity]:void 0}get validationMessage(){return n(this[pe.element])?this[pe.validationMessage]||"":void 0}get willValidate(){const e=this[pe.element];return n(e)&&!t(e)&&!["disabled","readonly"].some((t=>e.hasAttribute(t)))}checkValidity(){if(this.willValidate){if(this.validity.valid){const e=this[pe.element].nextElementSibling;return e instanceof HTMLElement&&e.classList.contains("_element-internals-popup")&&e.remove(),!0}return this[pe.element].dispatchEvent(new Event("invalid")),!1}return!0}reportValidity(){if(this.checkValidity())return!0;{const e=this.validationMessage;if("string"==typeof e&&0!==e.length){const{bottom:t,left:n}=this[pe.element].getBoundingClientRect(),r=document.createElement("div");r.textContent=e,i(r,{position:"fixed","background-color":"#2b2a33",color:"#fafafa",top:`${t+2}px`,left:`${n}px`,"z-index":2147483647,"color-scheme":"light-dark","font-family":"system-ui, serif","font-size":"18px",display:"inline-block",padding:"0.6em 0.8em",border:"1px solid #1a1a1a","border-radius":"6px"}),r.classList.add("_element-internals-popup"),this[pe.element].focus();const o=this[pe.element].nextElementSibling;o instanceof Element&&o.classList.contains("_element-internals-popup")&&o.remove(),this[pe.element].insertAdjacentElement("afterend",r),this[pe.anchor]instanceof Element&&this[pe.anchor].focus(),setTimeout((()=>{r.isConnected&&r.remove()}),3e3)}return!1}}setFormValue(e,t){if(!n(this[pe.element]))throw new DOMException("Not form associated");this[pe.value]=e,this[pe.state]=t}setValidity({valueMissing:e=!1,typeMismatch:t=!1,patternMismatch:r=!1,tooLong:i=!1,tooShort:o=!1,rangeUnderflow:a=!1,rangeOverflow:s=!1,stepMismatch:l=!1,badInput:c=!1,customError:u=!1},d="",p){if(!n(this[pe.element]))throw new DOMException("Not form associated");if(("string"!=typeof d||0===d.length)&&(e||t||r||i||o||a||s||l||c||u))throw new DOMException("Message required if any flags are true.");{const n=[e,t,r,i,o,a,s,l,c,u].every((e=>!1===e));this[pe.validity]={valueMissing:e,typeMismatch:t,patternMismatch:r,tooLong:i,tooShort:o,rangeUnderflow:a,rangeOverflow:s,stepMismatch:l,badInput:c,customError:u,valid:n},this[pe.validationMessage]=d,this[pe.anchor]=p,n?(this.states.delete("--invalid"),this.states.add("--valid")):(this.states.add("--invalid"),this.states.delete("--valid"),this[pe.element].dispatchEvent(new Event("invalid")))}}_associateForm(e,t){a(e,this,t)}_findAssociatedForm(e){return o(e)}}HTMLElement.prototype.attachInternals=function(){if(this.hasOwnProperty(pe.internals))throw new DOMException("Invalid operation");if(this.tagName.includes("-"))return new c(this,pe.key);throw new DOMException("Cannot call attachInternals on built-in elements.")},globalThis.ElementInternals=c}if("ElementInternals"in globalThis&&!("CustomStateSet"in globalThis)){const e="_state",t=new WeakMap,n=t=>{if(t.toString().startsWith("--"))return`${e}${t}`;throw new DOMException(`Failed to execute 'add' on 'CustomStateSet': The specified value '${t}' must start with '--'.`)},{value:r,writable:i,configurable:o,enumerable:a}=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"attachInternals");class s{constructor(e,n){if(n!==pe.key)throw new TypeError("Illegal Constructor");if(!(e instanceof HTMLElement))throw new TypeError("el must be an HTMLElement");t.set(this,e),this.add("--custom-states-polyfilled")}get _polyfilled(){return!0}get size(){return[...this.values()].length}add(e){t.get(this).classList.add(n(e))}has(e){return t.get(this).classList.contains(n(e))}delete(e){const r=n(e);return!!t.get(this).classList.contains(r)&&(t.get(this).classList.remove(r),!0)}clear(){this.values().forEach((e=>this.delete(e)))}keys(){return this.values()}values(){return t.get(this).classList.values().filter((t=>t.startsWith(`${e}--`))).map((t=>t.substr(e.length)))}entries(){return this.values().map((e=>[e,e]))}forEach(e,t){this.values().forEach((n=>e.call(t||this,n,n,this)))}[Symbol.toStringTag](){return"CustomStateSet"}[Symbol.iterator](){return this.values()}}Object.defineProperty(HTMLElement.prototype,"attachInternals",{value:function(){const e=r.call(this);return Object.defineProperty(e,pe.element,{value:this,enumerable:!1,writable:!1,configurable:!1}),Object.defineProperty(e,"states",{value:new s(this,pe.key),configurable:!0,enumberable:!0}),Object.is(e.shadowRoot,null)&&!Object.is(this.shadowRoot,null)&&Object.defineProperty(e,"shadowRoot",{value:this.shadowRoot,configurable:!0,enumerable:!0}),e},writable:i,configurable:o,enumerable:a}),globalThis.CustomStateSet=s,function(e){const t=Object.fromEntries(Object.keys(ce).map((e=>[e,{get:function(){return this[pe.element][e]},set:function(t){this[pe.element][e]=t},enumerable:!0,configurable:!0}])));Object.defineProperties(e,t)}(ElementInternals.prototype)}}(),
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
new Promise((()=>{}));const i=(e,t,n)=>{return"number"==typeof(r=t)&&!Number.isNaN(r)&&t>=e&&t<=n;var r},o=(e,t,n)=>Math.min(n,Math.max(e,t))
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */;function a(e,t,n,{policy:r}={}){switch(i=e.tagName,o=t,l()?trustedTypes.getPropertyType(i.toLowerCase(),o):null){case"TrustedScript":e[t]=m(n,{policy:r});break;case"TrustedScriptURL":e[t]=g(n,{policy:r});break;case"TrustedHTML":e[t]=h(n,{policy:r});break;default:e[t]=n}var i,o}function s(e,t,n,{elementNs:r,policy:i}={}){switch(function(e,t,n){return l()?trustedTypes.getAttributeType(e.toLowerCase(),t,n):null}(e.tagName,t,r)){case"TrustedScriptURL":"string"==typeof r?e.setAttributeNs(r,t,g(n,{policy:i})):e.setAttribute(t,g(n,{policy:i}));break;case"TrustedScript":"string"==typeof r?e.setAttributeNS(r,t,m(n,{policy:i})):e.setAttribute(t,m(n,{policy:i}));break;case"TrustedHTML":"string"==typeof r?e.setAttributeNS(r,t,h(n,{policy:i})):e.setAttribute(t,h(n,{policy:i}));break;default:"string"==typeof r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}}function l(){return"trustedTypes"in globalThis&&trustedTypes instanceof EventTarget&&trustedTypes.createPolicy instanceof Function}function c(e){return"TrustedTypePolicy"in globalThis&&e instanceof TrustedTypePolicy||null!=e&&e.createHTML instanceof Function}function u(e){return l()?trustedTypes.isHTML(e):"string"==typeof e}function d(e){return l()?trustedTypes.isScriptURL(e):"string"==typeof e||e instanceof URL}function p(e){return!l()||(trustedTypes.isHTML(e)||trustedTypes.isScript(e)||trustedTypes.isScriptURL(e))}function h(e,{policy:t=y()}={}){return c(t)&&!u(e)?t.createHTML(e):e}function m(e,{policy:t=y()}={}){return c(t)&&!function(e){return l()?trustedTypes.isScript(e):"string"==typeof e}(e)?t.createScript(e):e}function g(e,{policy:t=y()}={}){return c(t)&&!d(e)?t.createScriptURL(e):e}function f(e,{createHTML:t=(()=>{throw new TypeError("This policy does not provide `createHTML()`")}),createScript:n=(()=>{throw new TypeError("This policy does not provide `createScript()`")}),createScriptURL:r=(()=>{throw new TypeError("This policy does not provide `createScriptURL()`")})}){return l()?trustedTypes.createPolicy(e,{createHTML:t,createScript:n,createScriptURL:r}):Object.freeze({name:e,createHTML:(e,...n)=>t(e.toString(),...n),createScript:(e,...t)=>n(e.toString(),...t),createScriptURL:(e,...t)=>r(e.toString(),...t)})}function y(){return l()?trustedTypes.defaultPolicy:null}const b=new Map,w=new Map,v=["http:","https:"],E=["/","./","../"],T=e=>(e=>"string"==typeof e)(e)&&![...v,...E].some((t=>e.startsWith(t)));function S(e,{imports:t}=function(){if(b.has(document))return b.get(document);{const e=document.head.querySelector('script[type="importmap"]');if(e instanceof HTMLScriptElement){const{imports:t={},scope:n={}}=JSON.parse(e.textContent);return{imports:t,scope:n}}return{imports:{},scope:{}}}}()){if(w.has(e))return w.get(e);if(t.hasOwnProperty(e))return t[e];if(e.includes("/")){let n=!1;const r=Object.keys(t).filter((e=>e.endsWith("/"))).reduce(((t,r)=>!n&&e.startsWith(r)?(n=!0,r):n&&r.length>t&&e.startsWith(r)?r:t),null);if(!n)throw new TypeError(`Resolution of specifier ${e} was blocked by a null entry.`);if(n){const n=new URL(e.replace(r,t[r]),document.baseURI).href;return w.set(e,n),n}}}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */const A=new WeakMap,L=C((async({policy:e=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null)}={})=>{if("serviceWorker"in navigator&&"serviceWorker"in document.documentElement.dataset){const{serviceWorker:t,scope:n="/",updateViaCache:r}=document.documentElement.dataset;try{c(e)?await k(e.createScriptURL(t),{scope:n,updateViaCache:r}):await k(t,{scope:n,updateViaCache:r}),await async function(){if("serviceWorker"in navigator&&"reloadOnUpdate"in document.documentElement.dataset){(await navigator.serviceWorker.ready).addEventListener("updatefound",(async({target:e})=>{e.update();new(await customElements.whenDefined("html-notification"))("Update available",{body:"App updated in background. Would you like to reload to see updates?",requireInteraction:!0,actions:[{title:"Reload",action:"reload"},{title:"Dismiss",action:"dismiss"}]}).addEventListener("notificationclick",(({target:e,action:t})=>{switch(t){case"dismiss":e.close();break;case"reload":e.close(),location.reload()}}))}))}}()}catch(e){console.error(e)}}}));async function k(e,{scope:n,policy:r=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null),type:i="classic",updateViaCache:o="none"}={}){const{resolve:a,reject:s,promise:l}=t();return"serviceWorker"in navigator&&navigator.serviceWorker.register instanceof Function?"string"==typeof e||d(e)||e instanceof URL?!d(e)&&c(r)?navigator.serviceWorker.register(r.createScriptURL(e),{scope:n,type:i,updateViaCache:o}).then(a).catch(s):navigator.serviceWorker.register(e,{scope:n,type:i,updateViaCache:o}).then(a).catch(s):s(new TypeError("Invalid Service worker registration source")):s(new DOMException("Service worker not supported")),await l}function x({base:e=document.baseURI,path:t="./"}={}){if(T(e))return x({base:S(e),path:t});{const n=new URL(t,e);return e=>new URL(e,n).href}}function M(e){return"object"==typeof e&&!Object.is(e,null)&&!Array.isArray(e)}function P(e){return Array.isArray(e)||M(e)&&e[Symbol.iterator]instanceof Function}function N(e){switch(typeof e){case"undefined":return!0;case"object":return!!Object.is(e,null)||(Array.isArray(e)?0===e.length:e instanceof Date&&Number.isNaN(e.getTime()));case"number":return Number.isNaN(e);case"string":return 0===e.length;default:return!1}}function C(t,n){return t.once instanceof Function?t.once(n):function(...r){if(A.has(t))return A.get(t);if(e(t)){const e=t.apply(n||this,r).catch((e=>{throw A.delete(t),e}));return A.set(t,e),e}if(t instanceof Function){const e=t.apply(n||this,r);return A.set(t,e),e}}}function O(e,t){const n=new URL(e,document.baseURI);return t instanceof HTMLFormElement?O(n,new FormData(t)):t instanceof FormData||t instanceof URLSearchParams?O(n,Object.fromEntries(t)):Array.isArray(t)||"string"==typeof t?O(n,new URLSearchParams(t)):(M(t)&&Object.entries(t).forEach((([e,t])=>{"string"==typeof t||"number"==typeof t&&!Number.isNaN(t)?n.searchParams.set(e,t):"boolean"==typeof t?t?n.searchParams.set(e,""):n.searchParams.delete(e):N(t)||n.searchParams.set(e,t.toString())})),n)}function F(e,{source:t,medium:n="referral",content:r,campaign:i,term:o}={}){return N(e)?null:e instanceof URL?"string"!=typeof t?e:O(e,{utm_source:t,utm_medium:n,utm_content:r,utm_campaign:i,utm_term:o}):F(new URL(e,document.baseURI),{source:t,medium:n,content:r,campaign:i,term:o})}const I=
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
function(){const e=document.createElement("div"),t={nativeSignal:"AbortController"in globalThis&&AbortController.prototype.hasOwnProperty("signal"),signal:!1,passive:!1,capture:!1,once:!1},n={get passive(){t.passive=!0},get signal(){t.signal=!0},get capture(){t.capture=!0},get once(){t.once=!0}};try{e.addEventListener("click",null,n),e.removeEventListener("click",null,n)}catch(e){console.error(e)}return Object.seal(t)}();function R(e,t,n,{capture:r,once:i,passive:o,signal:a}={}){Array.isArray(e)||(e=ne(e)),Array.isArray(t)||(t=Array.of(t)),e.forEach((e=>{t.forEach((t=>U(e,t,n,{capture:r,once:i,passive:o,signal:a})))}))}function U(e,t,n,{capture:r,once:i,passive:o,signal:a}={}){a instanceof EventTarget&&a.aborted||(e.addEventListener(t,n,{capture:r,once:i,passive:o,signal:a}),!1===I.signal&&a instanceof EventTarget&&z(a).finally((()=>e.removeEventListener(t,n,{capture:r,once:i,passive:o,signal:a}))))}function D(e,t=17,n=!1){return console.warn("debounce() in events.js is deprecated. Please use utility.js instead."),n?function(e,{delay:t=17,thisArg:n}={}){if(e instanceof Function){if(!Number.isFinite(t)||t<0)throw new TypeError("Timeout must be a positive intiger");{let r;return function(...i){"number"!=typeof r&&(r=setTimeout((()=>r=null),t),e.apply(n,i))}}}throw new TypeError("Callback must be a function")}(e,{delay:t}):function(e,{delay:t=17,thisArg:n}={}){if(e instanceof Function){if(!Number.isFinite(t)||t<0)throw new TypeError("Timeout must be a positive intiger");{let r;return function(...i){"number"==typeof r&&(clearTimeout(r),r=null),r=setTimeout(((...t)=>e.apply(n,t)),t,...i)}}}throw new TypeError("Callback must be a function")}(e,{delay:t})}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */async function z(e){const{reject:n,promise:r}=t();return e instanceof AbortController?z(e.signal):(e instanceof EventTarget?e.aborted?n(e.reason):e.addEventListener("abort",(({target:e})=>n(e.reason)),{once:!0}):n(new DOMException("Not an AbortSignal")),r)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */"AbortController"in window&&AbortController.prototype.hasOwnProperty("signal");const H="text/plain",j="text/html",q="application/javascript",$="application/json";function _(e,t={}){if(!(e instanceof Element))throw new TypeError("el must be an Element");if(!M(t))throw new TypeError("props must be an object");Object.entries(t).forEach((([t,n])=>{switch(typeof n){case"string":case"number":e.dataset[t]=n.toString();break;case"boolean":n?e.dataset[t]="":delete e.dataset[t];break;case"undefined":delete e.dataset[t];break;case"object":Object.is(n,null)?delete e.dataset[t]:n instanceof Date?e.dataset[t]=n.toISOString():n instanceof URL?e.dataset[t]=n.href:e.dataset[t]=JSON.stringify(n);break;default:throw new TypeError("Unable to handle type: "+typeof n)}}))}function W(e,t={},{priority:n}={}){if(!(e instanceof Element))throw new TypeError("el must be an Element");if(!M(t))throw new TypeError("props must be an object");Object.entries(t).forEach((([t,r])=>{"string"==typeof r||"number"==typeof r?e.style.setProperty(t,r,n):r instanceof URL?e.type.setProperty(t,r.href,n):"object"==typeof r&&!Object.is(r,null)&&r.toString instanceof Function?e.style.setProperty(t,r.toString(),n):e.style.removeProperty(t)}))}function V(e,t={},{namespace:n=null,policy:r}={}){if(!(e instanceof Element))throw new TypeError("el must be an Element");if(!M(t))throw new TypeError("props must be an object");Object.entries(t).forEach((([t,i])=>{"string"==typeof i||"number"==typeof i?s(e,t,i,{policy:r,elementNs:n}):"trustedTypes"in globalThis&&p(i)?0===i.toString().length?e.removeAttribute(t):s(e,t,i,{policy:r,elementNs:n}):"boolean"==typeof i?"string"==typeof namespace?i?e.setAttributeNS(n,t,""):e.removeAttributeNS(n,t):e.toggleAttribute(t,i):i instanceof Date?s(e,t,i.toISOString(),{policy:r,elementNs:n}):i instanceof URL?s(e,t,i.href,{policy:r,elementNs:n}):null==i?"string"==typeof namespace?e.removeAttributeNS(n,t):e.removeAttribute(t):s(e,t,JSON.stringify(i),{policy:r,elementNs:n})}))}function B(e,t){return e.hasAttribute(t)}function G(e,t,n){e.toggleAttribute(t,n)}function K(e,t,{fallback:n=NaN,min:r=Number.MIN_SAFE_INTEGER,max:i=Number.MAX_SAFE_INTEGER}={}){if(e.hasAttribute(t)){const a=o(r,parseInt(e.getAttribute(t)),i);return Number.isNaN(a)?n:a}return n}function J(e,t,n,{min:r=Number.MIN_SAFE_INTEGER,max:i=Number.MAX_SAFE_INTEGER,policy:a}={}){n instanceof Date?s(e,t,n.getTime(),{min:r,max:i,policy:a}):Number.isInteger(n)?s(e,t,o(r,n,i),{policy:a}):"string"==typeof n?J(e,t,parseInt(n),{min:r,max:i}):e.removeAttribute(t)}function X(e,t,{fallback:n=null}={}){return e.hasAttribute(t)&&e.getAttribute(t)||n}function Q(e,t,n,{minLength:r=1,maxLength:o=1/0,pattern:a=null,fallback:l,policy:c}={}){if("string"!=typeof n||!i(r,n.length,o)||a instanceof RegExp&&!a.test(n))if(p(n)){const l=n.toString();!i(r,l.length,o)||a instanceof RegExp&&!a.test(l)?e.removeAttribute(t):s(e,t,n,{policy:c})}else"string"==typeof l||p(l)?Q(e,t,l,{pattern:a,policy:c,minLength:r,maxLength:o}):e.removeAttribute(t);else s(e,t,n,{policy:c})}function Y(e,t,{base:n=document.baseURI}={}){return e.hasAttribute(t)?new URL(e.getAttribute(t),n):null}function Z(e,t,n,{base:r=document.baseURI,requirePath:i=!1,policy:o}={}){if(n instanceof URL&&(!i||n.pathname.length>1))s(e,t,n.href,{policy:o});else if("string"==typeof n&&0!==n.length)Z(e,t,new URL(n,r),{requirePath:i});else if(d(n)){const r=new URL(n.toString(),document.baseURI);!i||r.pathname.length>1?s(e,t,n,{policy:o}):e.removeAttribute(t)}else e.removeAttribute(t)}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */const ee=["loading","interactive","complete"],te=(e=document.readyState)=>ee.indexOf(e);function ne(e,t=document){if(Array.isArray(e))return e;if(e instanceof EventTarget)return[e];if("string"==typeof e){const n=Array.from(t.querySelectorAll(e));return t.matches instanceof Function&&t.matches(e)&&n.push(t),n}if(P(e))return Array.from(e);throw new TypeError('Invalid "what" given to query()')}function re(e,t,{base:n}={}){const r=ne(e,n);return r.forEach(t),r}function ie(e,{base:t}={}){return re(e,(e=>e.remove()),{base:t})}function oe(e,t={},{base:n,priority:r}={}){return re(e,(e=>W(e,t,{priority:r})),{base:n})}function ae(e,t={},{base:n,namespace:r=null,policy:i}={}){return re(e,(e=>V(e,t,{namespace:r,policy:i})),{base:n})}function se(e,t,{base:n}={}){return re(e,(e=>e.textContent=t),{base:n})}function le(e,t,...n){const r=ne(e);return"string"==typeof t?R(r,[t],...n):Array.isArray(t)?R(r,t,...n):Object.entries(t).forEach((([e,t])=>R(r,[e],t,...n))),r}function ce(e,t,...n){return re(e,(e=>{"string"==typeof t?e.removeEventListener(t,...n):Array.isArray(t)?t.forEach((t=>e.removeEventListener(t,...n))):Object.entries(t).forEach((([t,r])=>e.removeEventListener(t,r,...n)))}))}async function ue(e,n,{capture:r,passive:i,signal:o,base:a}={}){const s=new AbortController,{promise:l,resolve:c,reject:u}=t();return o instanceof AbortSignal&&(o.aborted?s.abort(o.reason):addEventListener([o],["abort"],(()=>{s.abort(o.reason),u(o.reason)}),{once:!0,signal:s.signal})),s.signal.aborted?u(s.signal.reason):le(ne(e,a),n,(e=>{c(e),s.abort()}),{capture:r,passive:i,signal:s.signal}),l}const de=C((async function({signal:e}={}){const{promise:n,resolve:r,reject:i}=t();return e instanceof AbortSignal&&e.aborted?i(e.reason||new DOMException("Operation aborted.")):0===te()?(U(document,"DOMContentLoaded",r,{signal:e,once:!0,capture:!0}),e instanceof AbortSignal&&e.addEventListener("abort",(({target:e})=>i(e.reason||new DOMException("Operation aborted."))),{once:!0})):r(),n}));async function pe(e,{signal:n}={}){const{resolve:r,reject:i,promise:o}=t(),a=te(e);if(n instanceof AbortSignal&&n.aborted)i(n.reason||new DOMException("Operation aborted."));else if(a<0)i(new DOMException(`Invalid state: ${e}`));else if(a>te()){const t=new AbortController;let o=!1;t.signal.addEventListener("abort",(({target:e})=>{o||(i(e.reason||new DOMException("Operation aborted.")),o=!0)}),{once:!0}),n instanceof AbortSignal&&n.addEventListener("abort",(({target:e})=>{t.abort(e.reason)}),{once:!0,signal:t.signal}),document.addEventListener("readystatechange",(()=>{document.readyState===e&&(r(),o=!0,t.abort())}),{signal:t.signal})}else r();return o}function he(e,{type:t=j,asFrag:n=!0,sanitizer:r,policy:i=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:void 0)}={}){const o=new DOMParser;return n?function(e,{sanitizer:t,policy:n=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:void 0)}={}){const r=document.createElement("template");c(n)&&!u(e)?r.innerHTML=n.createHTML(e):r.innerHTML=e;return void 0!==t&&t.sanitize instanceof Function?t.sanitize(r.content):r.content}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */(e,{sanitizer:r,policy:i}):c(i)&&!u(e)?o.parseFromString(i.createHTML(e),t):o.parseFromString(e,t)}C((async function({signal:e}={}){await pe("interactive",{signal:e})})),C((async function({signal:e}={}){await pe("complete",{signal:e})})),C((async function({signal:e}={}){const{promise:n,resolve:r,reject:i}=t();return e instanceof AbortSignal&&e.aborted?i(e.reason||new DOMException("Operation aborted.")):te()<2?(U(globalThis,"load",r,{signal:e,once:!0,capture:!0}),e instanceof AbortSignal&&e.addEventListener("abort",(({target:e})=>i(e.reason||new DOMException("Operation aborted."))),{once:!0})):r(),n})),C((async function({signal:e}={}){const{promise:n,resolve:r}=t();return U(globalThis,"unload",r,{signal:e,once:!0,capture:!0}),n})),C((async function({signal:e}={}){const{promise:n,resolve:r}=t({signal:e});return U(globalThis,"beforeunload",r,{signal:e,once:!0,capture:!0}),n})),C((async function({signal:e}={}){const{promise:n,resolve:r,reject:i}=t();return e instanceof AbortSignal&&e.aborted?i(e.reason):"onbeforeinstallprompt"in globalThis&&(U(globalThis,"beforeinstallprompt",r,{once:!0,capture:!0,signal:e}),e instanceof AbortSignal&&U(e,"abort",(({reason:e})=>i(e)),{once:!0})),await n}));const me="theme",ge=["light","dark","auto"];"cookieStore"in globalThis&&globalThis.cookieStore.get instanceof Function&&Promise.all([cookieStore.get({name:me}),de()]).then((([e])=>{const t=ne(':root, [data-theme="auto"]'),n=ne('[theme="auto"]'),r=({name:e,value:r="auto"}={})=>{e===me&&ge.includes(r)&&(document.dispatchEvent(new CustomEvent("themechange",{detail:{theme:r}})),requestAnimationFrame((()=>{!function(e,t={},{base:n}={}){re(e,(e=>_(e,t)),{base:n})}(t,{theme:r}),ae(n,{theme:r})})))};e&&"string"==typeof e.value&&r(e),globalThis.cookieStore.addEventListener("change",(({changed:e,deleted:t})=>{const n=[...e,...t].find((({name:e})=>e===me));n&&r(n)}))}))
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */;const fe=window.customElements instanceof Object;function ye(e,t,...n){return fe?function(...e){return fe&&e.every((e=>void 0!==customElements.get(e)))}(e)?(console.warn(new Error(`<${e}> is already defined`)),customElements.get(e)===t):(customElements.define(e,t,...n),!0):(console.error(new Error("`customElements` not supported")),!1)}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */const be={resp:Symbol("resp")};class we extends Error{constructor(e=Response.error(),{message:t,cause:n}={}){super("string"==typeof t?t:`<${e.url}> [${e.status} ${e.statusText}]`,{cause:n}),Object.defineProperty(this,be.resp,{value:e,configurable:!1,writable:!1,enumerable:!1})}async json(){return await this[be.resp].json()}async text(){return await this[be.resp].text()}get body(){return this[be.resp].body}get bodyUsed(){return this[be.resp].bodyUsed}get headers(){return this[be.resp].headers}get ok(){return this[be.resp].ok}get redirected(){return this[be.resp].redirected}get status(){return this[be.resp].status}get statusText(){return this[be.resp].statusText}get type(){return this[be.resp].type}get url(){return this[be.resp].url}toJSON(){const{status:e,statusText:t,ok:n,url:r,message:i,type:o,redirected:a}=this;return{status:e,ok:n,statusText:t,url:r,message:i,type:o,redirected:a}}}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */function ve(e,{cause:t,message:n}={}){if(e instanceof Response){if(e.ok)return e;throw new we(e,{cause:t,message:n})}throw new TypeError("Expected a Response object")}function Ee(e){throw e instanceof we?e:e instanceof Error?new we(Response.error(),{cause:e,message:e.message}):new we(Response.error(),"string"==typeof e?{cause:new DOMException("Unknown network error"),message:e}:{cause:new DOMException("Unknown network error"),message:"Unknown network error"})}async function Te(e,t={}){if(t.signal instanceof AbortSignal&&t.signal.aborted)throw new we(Response.error(),{cause:t.signal.reason,message:t.signal.reason instanceof Error?t.signal.reason.message:t.signal.reason});return t.signal instanceof AbortSignal&&!("signal"in Request.prototype)?await Promise.race([globalThis.fetch(e,t),z(t.signal)]).then((e=>ve(e,{message:t.errorMessage})),Ee):await globalThis.fetch(e,t).then((e=>ve(e,{message:t.errorMessage})),Ee)}const Se=C((async function(){const{ok:e,headers:t}=await Te(location.href,{method:"HEAD"});if(e&&t.has("Content-Security-Policy")){const e=t.get("Content-Security-Policy").trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(e.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}}));function Ae(){const e=document.head.querySelector('meta[http-equiv="Content-Security-Policy"][content]');if(e instanceof HTMLMetaElement){const t=e.content.trim().split(";").filter((e=>0!==e.length));return Object.fromEntries(t.map((e=>{const[t,...n]=e.trim().split(" ").filter((e=>0!==e.length));return[t,n]})))}return{}}async function Le(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",priority:a="auto",referrerPolicy:s="no-referrer",headers:l=new Headers,integrity:c,keepalive:u,signal:d,timeout:p=null,errorMessage:h}={}){return void 0!==t?e=O(e,t):"string"==typeof e&&(e=new URL(e,document.baseURI)),void 0===d&&Number.isInteger(p)?d=AbortSignal.timeout(p):d instanceof AbortController&&(d=d.signal),await Te(e,{method:"GET",mode:n,credentials:i,referrerPolicy:s,headers:l,cache:r,redirect:o,priority:a,integrity:c,keepalive:u,signal:d,errorMessage:h})}async function ke(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",priority:a="auto",referrerPolicy:s="no-referrer",headers:l=new Headers({Accept:j}),integrity:u,keepalive:d,signal:p,timeout:h=null,head:m=!0,asFrag:g=!0,sanitizer:f,policy:y,errorMessage:b}={}){const w=await async function(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",priority:a="auto",referrerPolicy:s="no-referrer",headers:l=new Headers({Accept:H}),integrity:c,keepalive:u,signal:d,timeout:p=null,errorMessage:h}={}){const m=await Le(e,{body:t,mode:n,credentials:i,referrerPolicy:s,headers:l,cache:r,redirect:o,priority:a,integrity:c,keepalive:u,signal:d,timeout:p,errorMessage:h});return await m.text()}(e,{body:t,mode:n,credentials:i,referrerPolicy:s,headers:l,cache:r,redirect:o,priority:a,integrity:u,keepalive:d,signal:p,timeout:h,errorMessage:b});return c(y)?he(y.createHTML(w),{asFrag:g,head:m}):he(w,{head:m,asFrag:g,sanitizer:f,policy:y})}async function xe(e,{body:t,mode:n="cors",cache:r="default",credentials:i="omit",redirect:o="follow",referrerPolicy:a="no-referrer",priority:s="auto",headers:l=new Headers({Accept:$}),integrity:c,keepalive:u,signal:d,timeout:p=null,errorMessage:h}={}){const m=await Le(e,{body:t,mode:n,credentials:i,referrerPolicy:a,headers:l,cache:r,redirect:o,priority:s,integrity:c,keepalive:u,signal:d,timeout:p,errorMessage:h});return await m.json()}C((async function(){try{const e=await Se();return"object"!=typeof e||Object.is(e,null)?Ae():e}catch(e){return console.error(e),Ae()}}));const Me=C((async function({timeout:e,signal:t}={}){const n=await Pe('link[rel="manifest"][href]',{timeout:e,signal:t});return await n.json()}));async function Pe(e,{timeout:t,signal:n}={}){if("string"==typeof e)return await Pe(document.querySelector(e,{timeout:t,signal:n}));if(e instanceof HTMLLinkElement){if(0===e.href.length)throw new DOMException("Missing `href` on <link>");{const{href:r,integrity:i,type:o,referrerPolicy:a,crossOrigin:s}=e;let l;const c="string"==typeof s?"cors":"no-cors",u=new Headers;return"cors"===c&&(l="use-credentials"===s?"include":"omit"),"string"==typeof o&&u.set("Accept",o),await Le(r,{mode:c,credentials:l,headers:u,integrity:i,referrerPolicy:a,timeout:t,signal:n})}}throw new DOMException("Expected a <link>")}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */const Ne="strict-origin-when-cross-origin",{allowElements:Ce,allowAttributes:Oe,allowComments:Fe,blockElements:Ie,dropAttributes:Re,dropElements:Ue}=Sanitizer.getDefaultConfiguration(),De=C((()=>f("trust-raw#html",{createHTML:e=>e}))),ze=[location.origin,"https://cdn.kernvalley.us","https://unpkg.com"],He=["https://www.googletagmanager.com","https://www.google-analytics.com"],je=["https://www.youtube.com","https://www.youtube-nocookie.com"];
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function qe(e){const{origin:t}=new URL(e,document.baseURI);return ze.includes(t)}function $e(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function _e(e){const t=document.createElement("template"),n=De();return t.innerHTML=n.createHTML(`<div>${e}</div>`),t.content.firstElementChild.textContent}function We(e,{sanitizer:t=new Sanitizer}={}){if(Element.prototype.setHTML instanceof Function){const n=document.createElement("div");return n.setHTML(e,{sanitizer:t}),n.innerHTML}return Sanitizer.prototype.sanitizeFor instanceof Function?t.sanitizeFor("div",e).innerHTML:(console.warn("Sanitizer not supported. Returning escaped HTML"),$e(e))}const Ve=()=>trustedTypes.emptyHTML,Be=()=>trustedTypes.emptyScript,Ge={allowComments:Fe,allowCustomElements:!0,allowElements:[...Ce,"krv-ad","krv-events","leaflet-map","leaflet-marker","youtube-player","spotify-player","weather-current","weather-forecast","github-user","github-repo","github-gist","wfd-events","codepen-embed","bacon-ipsum","facebook-post"],allowAttributes:{...Oe,theme:["krv-ad","weather-current","weather-forecast","wfd-events","codepen-embed"],loading:[...Oe.loading,"krv-ad","weather-current","weather-forecast","youtube-player","spotify-player","github-user","github-repo","wfd-events","codepen-embed"],crossorigin:[...Oe.crossorigin,"leaflet-map"],source:["krv-ad","krv-events","wfd-events"],medium:["krv-ad","krv-events","wfd-events"],content:["krv-ad","krv-events","wfd-events"],campaign:["krv-ad","krv-events","wfd-events"],term:["krv-ad","krv-events","wfd-events"],count:["krv-events"],layout:["krv-ad"],center:["leaflet-map"],zoom:["leaflet-map"],tilesrc:["leflet-map"],allowlocate:["leaflet-map"],allowfullscreen:["leaflet-map"],zoomcontrol:["leaflet-map"],minzoom:["leaflet-map","leaflet-marker"],maxzoom:["leaflet-map","leaflet-marker"],longitude:["leaflet-marker"],latitude:["leaflet-marker"],open:[...Oe.open,"krv-ad"],appid:["weather-current","weather-forecast"],postalcode:["weather-current","weather-forecast"],height:[...Oe.height,"youtube-player","github-gist","codepen-embed","facebook-post"],width:[...Oe.width,"youtube-player","github-gist","codepen-embed","facebook-post"],large:["spotify-player"],uri:["spotify-player"],user:["github-repo","github-user","github-gist","codepen-embed","facebook-post"],bio:["github-user"],gist:["github-gist"],file:["github-gist"],repo:["github-repo"],pen:["codepen-embed"],tab:["codepen-embed"],editable:["codepen-embed"],clicktoload:["codepen-embed"],lines:["bacon-ipsum"],paras:["bacon-ipsum"],"start-with-lorem":["bacon-ipsum"],filler:["bacon-ipsum"],post:["facebook-post"],showtext:["facebook-post"]},dropAttributes:Re,blockElements:Ie,dropElements:Ue};C((()=>{const e=new Sanitizer;return f("default",{createHTML:t=>We(t,{sanitizer:e}),createScript:Be,createScriptURL:e=>{if(qe(e))return e;throw new TypeError(`Disallowed script origin: ${e}`)}})})),C((()=>f("escape#html",{createHTML:$e}))),C((()=>f("strip#html",{createHTML:_e}))),C((()=>f("json#script",{createScript:e=>JSON.stringify(JSON.parse(e))}))),C((()=>{const e=new Sanitizer(Sanitizer.getDefaultConfiguration());return f("default",{createHTML:t=>We(t,{sanitizer:e}),createScript:Be,createScriptURL:e=>{if(qe(e)||function(e){return e.startsWith("https://disqus.com/embed/comments/")}(e))return e;throw new TypeError(`Disallowed script origin: ${e}`)}})})),C((()=>{const e=new Sanitizer(Ge);return f("krv",{createHTML:t=>We(t,{sanitizer:e}),createScript:Be,createScriptURL:e=>{if(qe(e))return e;throw new TypeError(`Disallowed script origin: ${e}`)}})})),C((()=>f("youtube#embed",{createScriptURL:e=>{if(function(e){const{origin:t,pathname:n}=new URL(e,document.baseURI);return je.includes(t)&&n.startsWith("/embed/")}(e))return e;throw new TypeError(`Invalid YouTube URL: ${e}`)}}))),C((()=>f("ga#script-url",{createHTML:Ve,createScript:Be,createScriptURL:e=>{if(function(e){const{origin:t}=new URL(e,document.baseURI);return He.includes(t)}(e))return e;throw new TypeError(`${e} is not a known Google origin.`)}})));const Ke=C((()=>f("disqus#script-url",{createScriptURL:e=>{if(function(e){return/^https:\/\/[\w-]+\.disqus\.com\/embed\.js$/.test(e)}(e))return e;throw new TypeError(`Invalid Disqus URL: ${e}`)}})));
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
function Je(e,{"@context":t="https://schema.org","@type":n,"@identifier":r,itemtype:i,itemprop:o,itemscope:s,itemref:l,itemid:c,id:d,classList:p,hidden:h,dataset:m,accessKey:g,title:f,part:y,slot:b,is:w,children:v,styles:E,text:T,html:S,policy:A=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:null),sanitizer:L,aria:k,events:{capture:x,passive:C,once:O,signal:F,...I}={},animation:{keyframes:R,duration:D=0,delay:z=0,endDelay:H=0,easing:j="linear",direction:q="normal",fill:$="none",iterations:B=1,iterationStart:G=0,composite:K="replace",iterationComposite:J="replace",pseudoElement:X}={},...Q}={}){if("string"!=typeof e)throw new TypeError("tag must be a string");{const Y=document.createElement(e,{is:w});return Y.hidden=h,"string"==typeof f&&(Y.title=f),"string"==typeof d?Y.id=d:"string"==typeof r&&(Y.id=r),Array.isArray(p)&&0!==p.length&&Y.classList.add(...p),M(m)&&_(Y,m),Array.isArray(y)&&0!==y.length?Y.part.add(...y):"string"==typeof y&&Y.part.add(y),"string"==typeof b&&(Y.slot=b),M(E)&&W(Y,E),Object.entries(I).forEach((([e,t])=>{U(Y,e,t,{capture:x,passive:C,once:O,signal:F})})),"string"==typeof T?Y.textContent=T:("string"==typeof S||u(S))&&("Sanitizer"in globalThis&&L instanceof globalThis.Sanitizer&&Element.prototype.setHTML instanceof Function?Y.setHTML(S,{sanitizer:L}):a(Y,"innerHTML",S,{policy:A})),P(v)&&Y.append(...v.filter((e=>"string"==typeof e||e instanceof Element))),"string"==typeof w&&(Q.is=w),"string"==typeof i?Q.itemtype=i:"string"==typeof n&&(Q.itemtype=new URL(n,t).href),"string"==typeof o?Q.itemprop=o:Array.isArray(o)&&(Q.itemprop=o.join(" ")),"string"==typeof l?Q.itemref=l:Array.isArray(l)&&(Q.itemref=l.join(" ")),"boolean"==typeof s||"string"==typeof s?Q.itemscope=s:Q.hasOwnProperty("itemtype")&&(Q.itemscope=!0),"string"==typeof c&&(Q.itemid=c),Array.isArray(g)?Y.accessKey=g.join(" "):"string"==typeof accesskey&&(Y.accessKey=g),V(Y,Q),M(k)&&
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
function(e,t={}){if(!(e instanceof Element))throw new TypeError("`el` must be an Element");Object.entries(t).forEach((([t,n])=>{"role"!==t&&(t=`aria-${t.toLowerCase()}`),N(n)?e.removeAttribute(t):e.setAttribute(t,n)}))}(Y,k),(Array.isArray(R)||M(R))&&Y.animate instanceof Function&&Y.animate(R,{duration:D,delay:z,endDelay:H,easing:j,direction:q,fill:$,iterations:B,iterationStart:G,composite:K,iterationComposite:J,pseudoElement:X}),Y}}function Xe(e,{id:t,classList:n,hidden:r,dataset:i,children:o,styles:a,text:s,html:l,policy:c,sanitizer:u,events:{capture:d,passive:p,once:h,signal:m,...g}={},...f}={}){const y=Je("slot",{id:t,classList:n,hidden:r,dataset:i,children:o,styles:a,text:s,html:l,policy:c,sanitizer:u,events:{capture:d,passive:p,once:h,signal:m,...g},...f});return y.name=e,y}function Qe(e,{alt:t="",id:n=null,height:r,width:i,crossOrigin:o=null,"@type":a,"@context":s,itemprop:l=null,itemtype:c=null,itemscope:u,sizes:d=null,srcset:p=null,referrerPolicy:h=Ne,fetchPriority:m="auto",loading:g="eager",decoding:f="async",role:y=null,slot:b=null,part:w=[],classList:v=[],dataset:E=null,styles:A=null,animation:L,events:{capture:k,passive:x,once:P,signal:N,...C}={},...O}={}){T(e)?e=new URL(S(e)):e instanceof URL||(e=new URL(e,document.baseURI));const F=Je("img",{id:n,classList:v,dataset:E,slot:b,part:w,styles:A,itemtype:c,itemprop:l,itemscope:u,"@type":a,"@context":s,events:{capture:k,passive:x,once:P,signal:N,...C},animation:L,...O});return Number.isSafeInteger(i)&&(F.width=i),Number.isSafeInteger(r)&&(F.height=r),F.alt=t,F.referrerPolicy=h,F.loading=g,F.decoding=f,F.fetchPriority=m,"string"==typeof y&&(F.role=y),"string"==typeof o&&location.origin!==e.origin&&(F.crossOrigin=o),M(p)?F.srcset=Object.entries(p).map((([e,t])=>`${t} ${e}`)).join(", "):Array.isArray(p)&&0!==p.length?F.srcset=p.join(", "):"string"==typeof p&&(F.srcset=p),Array.isArray(d)&&0!==d.length?F.sizes=d.join(", "):"string"==typeof d&&(F.sizes=d),"string"==typeof e&&0!==e.length?F.src=e:e instanceof URL&&(F.src=e.href),F}function Ye(e=null,{rel:t=[],type:n=null,as:r=null,blocking:i=null,crossOrigin:o="anonymous",referrerPolicy:a="no-referrer",fetchPriority:s="auto",integrity:l=null,nonce:c=null,media:u="all",disabled:d=!1,dataset:p=null,title:h=null,sizes:m=[],events:{capture:g,passive:f,once:y,signal:b,...w}={},...v}){T(e)&&(e=S(e));const E=Je("link",{dataset:p,...v,events:{capture:g,passive:f,once:y,signal:b,...w}});return Array.isArray(t)?E.relList.add(...t):"string"==typeof t&&E.relList.add(t),"string"==typeof n&&(E.type=n),"string"==typeof r&&(E.as=r),"string"==typeof o&&(E.crossOrigin=o),"string"==typeof a&&(E.referrerPolicy=a),"string"==typeof s&&(E.fetchPriority=s),"string"==typeof l&&(E.integrity=l),"string"==typeof c&&(E.nonce=c),"string"==typeof u&&(E.media=u),Array.isArray(i)?E.setAttribute("blocking",i.join(" ")):"string"==typeof i&&E.setAttribute("blocking",i),"string"==typeof e&&(E.href=e),d&&(E.disabled=!0),"string"==typeof h&&(E.title=h),Array.isArray(m)&&0!==m.length?E.sizes.add(...m):"string"==typeof m&&E.sizes.add(m),E}function Ze(e,{type:t="text",required:n=!1,disabled:r=!1,readOnly:i=!1,multiple:o=!1,checked:a=!1,accept:s,id:l,classList:c,list:u,value:d,placeholder:p,pattern:h,inputMode:m,min:g=NaN,max:f=NaN,step:y=NaN,minLength:b=NaN,maxLength:w=NaN,autocomplete:v,styles:E,dataset:T,part:S,slot:A,animation:L,events:{capture:k,passive:x,once:M,signal:P,...C}={},...O}={}){if("string"!=typeof e)throw new TypeError("name must be a string");{const F=Je("input",{id:l,classList:c,dataset:T,styles:E,part:S,slot:A,animation:L,events:{capture:k,passive:x,once:M,signal:P,...C},...O});return F.name=e,F.type=t,F.required=n,F.disabled=r,F.readOnly=i,F.multiple=o,F.checked=a,"string"==typeof v&&(F.autocomplete=v),"string"==typeof m&&(F.inputMode=m),"string"==typeof u&&F.setAttribute("list",u),"string"==typeof p&&(F.placeholder=p),"string"==typeof h&&(F.pattern=h),N(g)||(F.min=g),N(f)||(F.max=f),Number.isSafeInteger(b)&&b>=0&&(F.minLength=b),Number.isSafeInteger(w)&&w>0&&(F.maxLength=w),N(y)||(F.step=y),N(d)||(F.value=d),"string"==typeof s?F.accept=s:Array.isArray(s)&&(F.accept=s.join(",")),F}}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */async function et(e,{rel:n="stylesheet",media:r="all",blocking:i=null,crossOrigin:o="anonymous",referrerPolicy:a="no-referrer",integrity:s=null,disabled:l=!1,fetchPriority:c="auto",title:u=null,nonce:d=null,parent:p=document.head,signal:h}={}){const{resolve:m,reject:g,promise:f}=t();if(h instanceof AbortSignal&&h.aborted)g(h.reason);else{const t=new AbortController,f=await Ye(e,{rel:n,media:r,crossOrigin:o,referrerPolicy:a,integrity:s,disabled:l,fetchPriority:c,title:u,nonce:d,blocking:i,events:{load:({target:e})=>{m(e),t.abort()},error:({target:e})=>{const n=new DOMException(`Error loading <link href="${e.href}">`);g(n),t.abort(n)},signal:h instanceof AbortSignal?AbortSignal.any([h,t.signal]):t.signal}});h instanceof AbortSignal&&h.addEventListener("abort",(({target:e})=>{g(e.reason),t.abort(e.reason),f.parentELement instanceof Element&&(f.disabled=!0,f.remove())}),{once:!0,signal:t.signal}),p.append(f)}return await f}async function tt(e,{loading:t="eager",decoding:n="async",crossOrigin:r="anonymous",referrerPolicy:i="no-referrer",fetchPriority:o="auto",sizes:a=null,srcset:s=null,height:l,width:c,slot:u=null,part:d=[],classes:p=[],classList:h=[],role:m="img",alt:g="",signal:f}={}){f instanceof AbortSignal&&f.throwIfAborted(),Array.isArray(p)&&0!==p.length&&console.warn("`classes` is deprecated. Please use `classList` instead.");const y=Qe(e,{loading:t,decoding:n,crossOrigin:r,referrerPolicy:i,sizes:a,srcset:s,height:l,width:c,slot:u,part:d,classList:[...h,...p],role:m,alt:g,fetchPriority:o});return"lazy"!==y.loading&&await y.decode(),y}
/**
	 * @copyright 2021-2023 Chris Zuber <admin@kernvalley.us>
	 */function nt(...e){if(window.ga instanceof Function)return window.ga(...e)}async function rt({eventCategory:e,eventAction:t,eventValue:n,eventLabel:r,hitType:i="event",transport:o="beacon"}={}){await new Promise((async(a,s)=>{it()?(await async function(e=2e3){await new Promise(((t,n)=>{if(it()){const r=setTimeout((()=>n(new DOMException("GA ready callback timed-out"))),e);nt((()=>{clearTimeout(r),t()}))}else n(new DOMException("Google Analytics script not loaded"))}))}(),nt("send",{hitType:i,eventCategory:e,eventAction:t,eventLabel:r,eventValue:n,transport:o,hitCallback:a})):s(new Error("ga has not been successfully initialized"))}))}function it(){return window.ga instanceof Function}function ot({url:e,shareTitle:t,hitType:n="event",transport:r="beacon",eventCategory:i="share-button"}){it()&&rt({hitType:n,eventCategory:i,eventAction:e,eventLabel:t,transport:r})}C((()=>f("default",{}))),Array.isArray(window.dataLayer)||(window.dataLayer=[]),ye("share-button",class extends HTMLButtonElement{constructor({shareTitle:e,title:t,text:n,url:r,file:i,source:o,medium:a,content:s}={}){super(),this.addEventListener("connected",(()=>{"string"==typeof e?this.shareTitle=e:"string"==typeof t&&(console.warn("Use of `title` is deprecated. Please use `shareTitle` instead."),this.shareTitle=t),"string"==typeof n&&(this.text=n),"string"==typeof r&&(this.url=r),"string"==typeof o&&(this.source=o),"string"==typeof a&&(this.medium=a),"string"==typeof s&&(this.content=s),"string"==typeof i&&(this.file=i)}),{once:!0})}connectedCallback(){this.hidden=!(navigator.share instanceof Function),this.addEventListener("click",(async e=>{if(e.preventDefault(),e.stopPropagation(),!1!==e.isTrusted){this.disabled=!0;try{const{shareTitle:e,text:t,url:n,file:r}=this;if("string"==typeof r&&navigator.canShare instanceof Function){const i=await async function(e){if("string"==typeof e&&navigator.canShare instanceof Function){const t=await Le(e);if(t.ok){if(t.headers.has("Content-Type")){const n=e.split("/"),r=n[n.length-1],i=t.headers.get("Content-Type").split(";")[0],o=[new File([await t.blob()],r,{type:i})];return navigator.canShare({title:"test",files:o})?o:[]}throw new Error(`Unknown Content-Type for ${e}`)}throw new Error(`Failed fetching ${e} [${t.status} ${t.statusText}]`)}return[]}(r);await navigator.share({title:e,text:t,url:n,files:i}),ot(this)}else await navigator.share({title:e,text:t,url:n}),ot(this)}catch(e){console.error(e)}finally{this.disabled=!1}}})),this.dispatchEvent(new Event("connected"))}get content(){return X(this,"content",{fallback:"share-button"})}set content(e){Q(this,"content",e)}get file(){return this.hasAttribute("file")?new URL(this.getAttribute("file"),document.baseURI).href:null}set file(e){"string"==typeof e&&0!==e.length?this.setAttribute("file",new URL(e,document.baseURI)):this.removeAttribute("file")}get medium(){return X(this,"medium",{fallback:"share"})}set medium(e){Q(this,"medium",e)}get shareTitle(){return X(this,"sharetitle",{fallback:document.title})}set shareTitle(e){Q(this,"sharetitle",e)}get source(){return X(this,"source")}set source(e){Q(this,"source",e)}get text(){return X(this,"text")}set text(e){Q(this,"text",e)}get url(){if(this.hasAttribute("url")){const e=new URL(this.getAttribute("url"),location.href).href,{source:t,medium:n,content:r}=this;return O(e,{source:t,medium:n,content:r}).href}if(this.hasAttribute("source")){const{source:e,medium:t,content:n}=this;return O(location.href,{source:e,medium:t,content:n})}return location.href}set url(e){"string"==typeof e&&0!==e.length?this.setAttribute("url",e):this.removeAttribute("url")}get title(){return console.warn("Use of `title` is deprecated. Please use `shareTitle` instead"),this.hasAttribute("title")?this.getAttribute("title"):document.title}set title(e){console.warn("Use of `title` is deprecated. Please use `shareTitle` instead"),this.setAttribute("title",e)}},{extends:"button"});class at extends HTMLTimeElement{connectedCallback(){const e=new Date;this.textContent=e.getFullYear(),this.dateTime=e.toISOString()}}ye("current-year",at,{extends:"time"}),ye("not-supported",class extends HTMLElement{connectedCallback(){this.remove()}});
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const st=new WeakMap,lt=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const{resolve:n}=st.get(e.target);st.delete(e.target),n(e),t.unobserve(e.target)}}))}),{rootMargin:`${Math.min(250,Math.floor(.3*screen.height))}px`});async function ct(e,{signal:n,base:r=document}={}){const{resolve:i,reject:o,promise:a}=t();return n instanceof AbortSignal&&n.aborted?o(n.reason):"string"==typeof e?ct(r.querySelector(e),{signal:n}).then(i).catch(o):e instanceof Element?st.has(e)?(st.get(e).promise.then(i).catch(o),n instanceof AbortSignal&&n.addEventListener("abort",(({target:{reason:e}})=>{o(e)}),{once:!0})):(st.set(e,{resolve:i,reject:o,promise:a}),lt.observe(e),n instanceof AbortSignal&&n.addEventListener("abort",(({target:{reason:t}})=>{lt.unobserve(e),st.has(e)&&(st.get(e).reject(t),st.delete(e))}),{once:!0})):o(new TypeError("Non-elements can never intersect")),a}const ut="https://unpkg.com/@shgysk8zer0/components@0.0.9/",dt=!(document.currentScript instanceof HTMLScriptElement)?{url:document.currentScript&&document.currentScript.src||new URL("index.out.js",document.baseURI).href,resolve:e=>(void 0)(e)}:{url:ut,resolve:e=>new URL(e,ut).href};
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const pt="http://www.w3.org/2000/svg",ht="presentation";
/**
	 * @copyright 2022-2023 Chris Zuber <admin@kernvalley.us>
	 */function mt(e,{fill:t,stroke:n,width:r,height:i,pathLength:o,children:a=[],id:s,classList:l=[],styles:c,dataset:u,role:d,ariaLabel:p,events:{capture:h,passive:m,once:g,signal:f,...y}={},animation:{keyframes:b,duration:w=0,delay:v=0,endDelay:E=0,easing:T="linear",direction:S="normal",fill:A="none",iterations:L=1,iterationStart:k=0,composite:x="replace",iterationComposite:P="replace",pseudoElement:N}={},...C}={}){const O=document.createElementNS(pt,e);if("string"==typeof s&&(O.id=s),"string"==typeof d&&O.setAttribute("role",d),"string"==typeof p&&O.setAttribute("aria-label",p),Array.isArray(l)&&0!==l.length&&O.classList.add(...l),"string"==typeof t&&O.setAttribute("fill",t),"string"==typeof n&&O.setAttribute("stroke",n),"number"!=typeof i||Number.isNaN(i)||O.setAttribute("height",i.toString()),"number"!=typeof r||Number.isNaN(r)||O.setAttribute("width",r.toString()),"number"!=typeof o||Number.isNaN(o)||O.setAttribute("pathLength",o.toString()),"string"==typeof C.title){const e=mt("title");e.textContent=C.title,O.prepend(e)}return(Array.isArray(b)||M(b)&&O.animate instanceof Function)&&O.animate(b,{duration:w,delay:v,endDelay:E,easing:T,direction:S,fill:A,iterations:L,iterationStart:k,composite:x,iterationComposite:P,pseudoElement:N}),Array.isArray(a)&&0!==a.length&&O.append(...a.filter((e=>"string"==typeof e||e instanceof Element))),M(c)&&W(O,c),M(y)&&Object.entries(y).forEach((([e,t])=>O.addEventListener(e,t,{capture:h,passive:m,once:g,signal:f}))),M(u)&&_(O,u),V(O,C),O}function gt({id:e=null,fill:t=null,viewBox:n=null,height:r=null,width:i=null,slot:o=null,role:a=ht,ariaLabel:s,hidden:l=!1,classList:c=[],children:u=[],animation:d,part:p=[],...h}={}){const m=mt("svg",{width:i,height:r,fill:t,animation:d,children:u,id:e,classList:c,...h});return m.setAttribute("role",a),m.setAttribute("xmlns",pt),"string"==typeof n?m.setAttributeNS(null,"viewBox",n):Array.isArray(n)&&m.setAttributeNS(null,"viewBox",n.map((e=>e.toString())).join(" ")),"string"==typeof s&&m.setAttribute("aria-label",s),!0===l&&m.setAttribute("aria-hidden","true"),"string"==typeof o&&(m.slot=o),Array.isArray(c)&&0!==c.length&&m.classList.add(...c),Array.isArray(p)&&0!==p.length&&("part"in m?m.part.add(...p):m.setAttribute("part",p.join(" "))),m}function ft(e,{id:t,fill:n,stroke:r,pathLength:i,animation:o,...a}={}){const s=mt("path",{id:t,fill:n,stroke:r,pathLength:i,animation:o,...a});if(Array.isArray(e)&&0!==e.length)s.setAttribute("d",e.join(" "));else{if("string"!=typeof e)throw new TypeError("Invalid `d` attribute in <path>.");s.setAttribute("d",e)}return s}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */function yt({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,14,16],...l,height:e,width:parseInt(e/16*14),fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M13.99 11.991v1H0v-1l.73-.58c.769-.769.809-2.547 1.189-4.416.77-3.767 4.077-4.996 4.077-4.996 0-.55.45-1 .999-1 .55 0 1 .45 1 1 0 0 3.387 1.229 4.156 4.996.38 1.879.42 3.657 1.19 4.417l.659.58h-.01zM6.995 15.99c1.11 0 1.999-.89 1.999-1.999H4.996c0 1.11.89 1.999 1.999 1.999z",{"fill-rule":"evenodd"})]})}function bt({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,12,16],...l,height:e,width:parseInt(e/16*12),fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z",{"fill-rule":"evenodd"})]})}const wt=new WeakMap,vt=x({base:dt.url,path:"./krv/"}),Et=new URL("/WPAdBlock","https://schema.org").href,Tt=function({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,16,16],...l,height:e,width:e,fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M13.032 1c.534 0 .969.427.969.969v.062c-.017 6.613-5.383 11.97-12 11.97H1.97c-.545 0-.97-.447-.97-1v-3c0-.555.447-1 1-1h2c.555 0 1 .445 1 1v.468A8.967 8.967 0 0 0 10.47 5H10c-.553 0-1-.446-1-1V2c0-.554.447-1 1-1h3.032z",{overflow:"visible"})]})}({size:18}),St=function({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,14,16],...l,height:e,width:parseInt(e/16*14),fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z",{"fill-rule":"evenodd"})]})}({size:18}),At=function({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,12,16],...l,height:e,width:parseInt(e/16*12),fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z",{"fill-rule":"evenodd"})]})}({size:18}),Lt=function({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,14,16],...l,height:e,width:parseInt(e/16*14),fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z",{"fill-rule":"evenodd"})]})}({size:18}),kt=function({size:e=16,role:t=ht,fill:n="currentColor",ariaLabel:r,classList:i=[],part:o=[],slot:a,animation:s,...l}={}){return gt({viewBox:[0,0,16,16],...l,height:e,width:e,fill:n,classList:i,part:o,slot:a,animation:s,role:t,ariaLabel:r,children:[ft("M8 0a5 5 0 0 0-5 5c0 .173.014.332.031.5.014.167.036.336.063.5C3.666 9.514 6 12.003 8 14.003c2-2 4.334-4.489 4.906-8.003a6.38 6.38 0 0 0 .063-.5c.017-.168.03-.327.03-.5a5 5 0 0 0-5-5zm0 3a2 2 0 1 1 0 4 2 2 0 0 1 0-4z")]})}({size:18});function xt(e,t){const n=function(e,t){const{shadow:n}=wt.get(e);return n.querySelector(`slot[name="${t}"]`)}(e,t);return n instanceof HTMLElement?n.assignedElements():[]}function Mt(e,t){xt(e,t).forEach((e=>e.remove()))}function Pt(e){return({currentTarget:t})=>{t.assignedElements().forEach((t=>t.setAttribute("itemprop",e)))}}function Nt(e,t){if(!M(t))throw new TypeError("data must be an object");wt.set(e,{...wt.get(e),...t})}async function Ct(e,{id:t,label:n,source:r,campaign:i,medium:o,term:a,content:s,layout:l,theme:c}){const u=new URL("/api/events","https://ads.kernvalley.us"),d=Object.fromEntries(Object.entries({type:e,origin:location.origin,pathname:location.pathname,layout:l,theme:c,datetime:(new Date).toISOString(),uuid:t,label:n,source:r,campaign:i,medium:o,term:a,content:s}).filter((([,e])=>void 0!==e&&!Object.is(e,null))));return["localhost"].includes(location.hostname)||location.hostname.endsWith(".netlify.live")||location.hostname.endsWith(".netlify.app")||/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(location.hostname)?(console.info({type:e,endpoint:u,params:d}),!1):navigator.sendBeacon(u,new URLSearchParams(d))}class Ot extends HTMLElement{constructor({background:e=null,border:t=null,borderWidth:n=null,callToAction:r=null,campaign:i=null,color:o=null,content:a=null,description:s=null,height:l=null,identifier:c=null,image:u=null,imageFit:d=null,imagePosition:p=null,linkColor:h=null,label:m=null,layout:g=null,media:f=null,medium:y=null,source:b=null,term:w=null,theme:v=null,url:E=null,width:T=null,loading:S=null}={}){super();const A=this.attachShadow({mode:"closed"}),L=this.attachInternals();L.states.add("--loading"),L.ariaBusy="true",L.role="document";const k=Je("div",{"@type":"Organization",itemprop:"publisher",itemscope:!0,hidden:!0,children:[Je("meta",{itemprop:"name",content:"Kern Valley Ads"}),Je("meta",{itemprop:"url",content:"https://ads.kernvalley.us"}),Je("meta",{itemprop:"logo",content:"https://cdn.kernvalley.us/img/branding/ads.kernvalley.us.svg"})]}),x=Je("a",{id:"container",part:["container"],rel:"noopener noreferrer external",itemprop:"url",target:"_blank",events:{click:e=>{!e.isTrusted||this.preview||0===this.id.length||0===e.currentTarget.href.length||e.target.matches("#branding, #branding > *")||Ct("click",this)},once:!0},children:[Je("h3",{id:"label",part:["label","text"],children:[Xe("label",{events:{slotchange:Pt("name")},text:"No Label"})]}),Je("div",{id:"image",part:["image"],children:[Xe("image",{events:{slotchange:Pt("image")},children:[Qe("https://cdn.kernvalley.us/img/raster/missing-image.png",{referrerPolicy:"no-referrer",crossOrigin:"anonymous",loading:"lazy"})]})]}),Je("div",{id:"description",part:["text","description"],children:[Xe("description",{text:"No Description",events:{slotchange:Pt("description")}})]}),Je("div",{id:"call-to-action",part:["call-to-action"],children:[Xe("calltoaction",{text:"No Call-to-Action"}),Je("span",{part:["icon","call-icon"],children:[Xe("call-icon",{children:[Tt.cloneNode(!0)]})]}),Je("span",{part:["icon","email-icon"],children:[Xe("email-icon",{children:[St.cloneNode(!0)]})]}),Je("span",{part:["icon","link-icon"],children:[Xe("link-icon",{children:[At.cloneNode(!0)]})]}),Je("span",{part:["icon","geo-icon"],children:[Xe("geo-icon",{children:[kt.cloneNode(!0)]})]})]}),Je("a",{id:"branding",part:["branding"],href:F("https://ads.kernvalley.us",{source:location.hostname,medium:"referral",campaign:"ad-info"}),target:"_blank",children:[Je("span",{part:["icon","branding-icon"],children:[Lt.cloneNode(!0)]}),Je("span",{text:"Ads by KernValley.US"})]})]});wt.set(this,{shadow:A,timeout:NaN,container:x,internals:L}),"string"==typeof r?this.callToAction=r:r instanceof HTMLElement&&(r.slot="calltoaction",this.append(r)),"string"==typeof m?this.label=m:m instanceof HTMLElement&&(m.slot="label",this.append(m)),"string"==typeof s?this.description=s:s instanceof HTMLElement&&(s.slot="description",this.append(s)),"string"==typeof u||u instanceof URL?this.image=u:u instanceof HTMLElement&&(u.slot="image",this.append(u)),A.append(x);const M=this.querySelector('[itemprop="publisher"]');M instanceof HTMLElement?M.replaceWith(k):this.append(k),L.ariaBusy="false",this.addEventListener("connected",(()=>{this.setAttribute("itemtype",Et),this.setAttribute("itemscope",""),"string"==typeof S&&(this.loading=S),"string"==typeof c&&(this.id=c),"string"==typeof e&&(this.background=e),"string"==typeof t&&(this.border=t),"string"!=typeof n&&"number"!=typeof n||(this.borderWidth=n),"string"==typeof o&&(this.color=o),"string"==typeof h&&(this.linkColor=h),"string"==typeof f&&(this.media=f),"string"==typeof g&&(this.layout=g),("string"==typeof E||E instanceof URL)&&(this.url=E),"string"==typeof v&&(this.theme=v),"string"==typeof d&&(this.imageFit=d),"string"==typeof p&&(this.imagePosition=p),"string"==typeof b&&(this.source=b),"string"==typeof y&&(this.medium=y),"string"==typeof i&&(this.campaign=i),"string"==typeof w&&(this.term=w),"string"==typeof a&&(this.content=a),"number"!=typeof l||Number.isNaN(l)||(this.height=l),"number"!=typeof T||Number.isNaN(l)||(this.width=T)}))}async connectedCallback(){this.dispatchEvent(new Event("connected"));const{shadow:e,internals:t}=wt.get(this);await ct(this),t.states.add("--seen"),await et(vt("./ad.css"),{parent:e}),setTimeout((()=>this.hidden=!1),1),t.states.delete("--loading"),0!==this.id.length&&Ct("view",this)}attributeChangedCallback(e,t,n){const{shadow:r,timeout:i,container:o}=wt.get(this);switch(e){case"url":case"source":case"medium":case"term":case"campaign":case"content":Number.isNaN(i)||clearTimeout(i),Nt(this,{timeout:setTimeout((()=>{const e=this.getUrl();Nt(this,{timeout:NaN}),Z(r.querySelector('[part~="container"]'),"href",e)}),10)});break;case"background":"string"==typeof n?o.style.setProperty("--ad-background",n):o.style.removeProperty("--ad-background");break;case"color":"string"==typeof n?o.style.setProperty("--ad-color",n):o.style.removeProperty("--ad-color");break;case"border":"string"==typeof n?o.style.setProperty("--ad-border",n):o.style.removeProperty("--ad-boder");break;case"borderwidth":"string"==typeof n?o.style.setProperty("--ad-border-width",n):o.style.removeProperty("--ad-border-width");break;case"linkcolor":"string"==typeof n?o.style.setProperty("--ad-link-color",n):o.style.removeProperty("--ad-link-color");break;case"media":break;default:throw new Error(`Unsupported property changed: "${e}"`)}}toJSON(){const{id:e,label:t,description:n,callToAction:r,image:i,layout:o,theme:a,campaign:s,content:l,source:c,medium:u,term:d,border:p,borderWidth:h,background:m,color:g,imageFit:f,imagePosition:y,linkColor:b}=this;return{"@context":"https://schema.org","@type":"WPAdBlock",version:Ot.VERSION,identifier:e,label:t,description:n,callToAction:r,image:i,layout:o,theme:a,campaign:s,content:l,source:c,medium:u,term:d,border:p,borderWidth:h,background:m,color:g,imageFit:f,imagePosition:y,linkColor:b}}get layout(){return X(this,"layout",{fallback:"card"})}set layout(e){Q(this,"layout",e)}get theme(){return X(this,"theme",{fallback:"auto"})}set theme(e){Q(this,"theme",e)}get preview(){return B(this,"preview")}set preview(e){G(this,"preview",e)}get background(){return X(this,"background")}set background(e){Q(this,"background",e)}get color(){return X(this,"color")}set color(e){Q(this,"color",e)}get height(){return K(this,"height")}set height(e){J(this,"height",e)}get width(){return K(this,"width")}set width(e){J(this,"width",e)}get border(){return X(this,"border")}set border(e){Q(this,"border",e)}get borderWidth(){return K(this,"borderwidth")}set borderWidth(e){J(this,"borderwidth",e)}get imageFit(){return X(this,"imagefit")}set imageFit(e){Q(this,"imagefit",e)}get imagePostion(){return X(this,"imageposition")}set imagePosition(e){Q(this,"imageposition",e)}get label(){const e=xt(this,"label");return 1===e.length?e[0].textContent:null}set label(e){Mt(this,"label"),"string"==typeof e&&0!==e.length&&this.append(Je("span",{text:e,slot:"label"}))}get image(){const e=xt(this,"image");return 1===e.length?e[0].src:null}set image(e){Mt(this,"image"),"string"==typeof e&&0!==e.length&&this.append(Qe(e,{loading:"lazy",alt:"",crossOrigin:"anonymous",referrerPolicy:"no-referrer",slot:"image"}))}get description(){const e=xt(this,"description");return 1===e.length?e[0].textContent:null}set description(e){Mt(this,"description"),"string"==typeof e&&0!==e.length&&this.append(Je("span",{text:e,slot:"description"}))}get callToAction(){const e=xt(this,"calltoaction");return 1===e.length?e[0].textContent:null}set callToAction(e){Mt(this,"calltoaction"),"string"==typeof e&&0!==e.length&&this.append(Je("span",{text:e,slot:"calltoaction"}))}get url(){return Y(this,"url")}set url(e){Z(this,"url",e,{requirePath:!1})}get campaign(){return X(this,"campaign")}set campaign(e){Q(this,"campaign",e)}get content(){return X(this,"content")}set content(e){Q(this,"content",e)}get medium(){return X(this,"medium",{fallback:"referral"})}set medium(e){Q(this,"medium",e)}get source(){return X(this,"source")}set source(e){Q(this,"source",e)}get term(){return X(this,"term")}set term(e){Q(this,"term",e)}getUrl(){if(this.hasAttribute("url")){const{url:e,source:t,medium:n,term:r,content:i,campaign:o}=this,a=new F(e,{source:t,medium:n,term:r,content:i,campaign:o});switch(e.protocol){case"http:":case"https:":return a.href;case"mailto:":case"tel:":case"geo:":return`${a.protocol}${a.pathname}`;default:throw new DOMException(`Unsupported protocol "${a.protocol}"`)}}}async toFile({name:e="ad.krvad",signal:t,priority:n}={}){return scheduler.postTask((()=>{const t=JSON.stringify(this,null,4);return new File([t],e,{type:Ot.CONTENT_TYPE})}),{signal:t,priority:n})}async downloadFile({name:e="ad.krvad",signal:t,priority:n}={}){const r=await this.toFile({name:e,signal:t,priority:n});
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
await async function(e,{signal:t}={}){if(t instanceof EventTarget&&t.aborted)throw t.reason;if(!(e instanceof File))throw new TypeError("Not a file");{const n=document.createElement("a"),r=URL.createObjectURL(e);n.href=r,n.download=e.name,n.hidden=!0,n.addEventListener("click",(({target:e})=>{requestIdleCallback((()=>{URL.revokeObjectURL(e.href),e.remove()}))}),{passive:!0,capture:!0,once:!0,signal:t}),n.click()}}(r)}static get observedAttributes(){return["background","border","borderwidth","color","linkcolor","media","url","source","term","content","campaign","medium"]}static fromJSONObject(e){return new Ot(e)}static async fromFile(e){if(e instanceof File){if(e.name.endsWith(".krvad")){const t=JSON.parse(await e.text());return Ot.fromJSONObject(t)}throw new Error(`${e.name} is not a KRV Ad file`)}throw new Error("Expected instance of `File`")}static async openFile(){const[e]=await async function({accept:e=null,multiple:n=!1,directory:i=!1,description:o="Select file(s)",signal:a}={}){if(a instanceof AbortSignal&&a.aborted)throw a.reason||new DOMException("Operation aborted.");return await r("file-picker",(async()=>{const{resolve:r,reject:s,promise:l}=t({signal:a});if(!(a instanceof AbortSignal&&a.aborted)){const t=crypto.randomUUID(),l=Je("dialog",{children:[Je("form",{name:"file-picker",events:{submit:e=>{e.preventDefault();const t=e.target.closest("dialog");r(Array.from(new FormData(e.target).getAll("files"))),t.animate instanceof Function?t.animate([{opacity:1},{opacity:0}],{duration:400,easing:"ease-in-out",fill:"both"}).finished.then((()=>t.close())):t.close()},reset:({target:e})=>e.closest("dialog").close()},children:[Je("div",{classList:["form-group"],children:[Je("label",{text:o,for:t,classList:["input-label","block","required","cursor-pointer"]}),Ze("files",{id:t,classList:["input"],type:"file",accept:Array.isArray(e)?e.join(", "):e,webkitdirectory:i,required:!0,multiple:n})]}),Je("div",{classList:["flex","row","no-wrap"],styles:{"margin-top":"18px",gap:"2em"},children:[Je("button",{type:"submit",text:"Ok",classList:["btn","btn-accept","grow-1"]}),Je("button",{text:"Cancel",type:"reset",classList:["btn","btn-reject","grow-1"]})]})]})],events:{close:({target:e})=>{s(new DOMException("User cancelled the file select")),e.remove()}}});if(document.body.append(l),l.animate instanceof Function){const e=l.animate([{opacity:.1,transform:"scale(0.3)"},{opacity:1,transform:"none"}],{duration:400,easing:"ease-in-out",fill:"both",delay:100});l.showModal(),e.finished.then((()=>{const e=l.querySelector('input[type="file"]');if(e.showPicker instanceof Function)try{e.showPicker({signal:a})}catch(t){setTimeout((()=>e.click()),200)}else e.click()}))}else{const e=l.querySelector('input[type="file"]');setTimeout((()=>e.click()),200),l.showModal()}a instanceof AbortSignal&&a.addEventListener("abort",(()=>l.close()),{once:!0})}return await l}),{signal:a,mode:"exclusive"})}({accept:[Ot.FILE_EXTENSION,Ot.CONTENT_TYPE]});return await Ot.fromFile(e)}static get CONTENT_TYPE(){return"application/krv-ad+json"}static get FILE_EXTENSION(){return".krvad"}static get VERSION(){return"1.0.0"}}ye("krv-ad",Ot);
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const Ft=new URL("https://events.kernvalley.us/events.json"),It=f("krv-events#html",{createHTML:e=>e});It.name;const Rt=x({base:dt.url,path:"./krv/"}),Ut=C((()=>ke(Rt("events.html"),{policy:It}))),Dt=C((()=>(async({signal:e}={})=>xe(Ft,{signal:e}))())),zt=new WeakMap;function Ht(e,{campaign:t,content:n="krv-events-el",medium:r,source:i,term:o}){return F(e,{campaign:t,content:n,medium:r,source:i,term:o}).href}ye("krv-events",class extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"closed"}),t=this.attachInternals();Promise.all([Ut().then((e=>e.cloneNode(!0))),et(Rt("./events.css"),{parent:e}),this.whenConnected]).then((([n])=>{t.role="document",t.ariaLabel="Kern Valley Events Calendar";const r=n.querySelector(".app-link");r.target=this.target,this.hasAttribute("source")&&(r.href=Ht(r.href,this)),e.append(n),zt.set(this,{shadow:e,internals:t}),this.dispatchEvent(new Event("ready"))}))}get ready(){return zt.has(this)?Promise.resolve():ue(this,"ready")}get whenConnected(){return this.isConnected?Promise.resolve():ue(this,"connected")}async connectedCallback(){this.dispatchEvent(new Event("connected")),"lazy"===this.loading&&await ct(this),this.render()}async render(){const e=(new Date).toISOString(),[t]=await Promise.all([Dt(),this.ready]),n=zt.get(this).shadow.getElementById("event-template").content,{campaign:r,content:i,medium:o,source:a,term:s,target:l}=this,c=t.filter((({endDate:t})=>t>e)).splice(0,this.count).map((({name:e,url:t,description:c,startDate:u,endDate:d,location:p})=>{const h=n.cloneNode(!0),m=document.createElement("div"),g=new Date(u),f=new Date(d),y=new AbortController;function b(){it()?rt({hitType:"event",eventCategory:"krv-event",eventLabel:this.querySelector(".event-name").textContent,eventAction:"open",transport:"beacon"}):y.abort()}return m.classList.add("event"),ae(".event-url",{href:Ht(t,{campaign:r,content:i,medium:o,source:a,term:s}),target:l},{base:h}).forEach((e=>{e.addEventListener("click",b,{signal:y.signal})})),se(".event-name",e,{base:h}),se(".event-description",c,{base:h}),se(".event-start-time",g.toLocaleString(),{base:h}),ae(".event-start-time",{datetime:g.toISOString()},{base:h}),se(".event-end-time",f.toLocaleString(),{base:h}),ae(".event-end-time",{datetime:f.toISOString()},{base:h}),void 0!==p&&se(".event-location",p.name||p.address.addressLocality,{base:h}),m.append(h),m}));0!==c.length&&zt.get(this).shadow.getElementById("events-list").replaceChildren(...c)}get count(){return K(this,"count",{fallback:5})}set count(e){J(this,"count",e)}get content(){return X(this,"content",{fallback:"krv-events"})}set content(e){Q(this,"content",e)}get loading(){return X(this,"loading",{fallback:"eager"})}set loading(e){Q(this,"loading",e)}get medium(){return X(this,"medium",{fallback:"referral"})}set medium(e){Q(this,"medium",e)}get source(){return X(this,"source")}set source(e){Q(this,"source",e)}get target(){return X(this,"target",{fallback:"_self"})}set target(e){Q(this,"target",e)}get theme(){return X(this,"theme",{fallback:"auto"})}set theme(e){Q(this,"theme",e)}get term(){return X(this,"term")}set term(e){Q(this,"term",e)}attributeChangedCallback(e){if("count"===e)this.render().catch(console.error);else console.error(`Unhandled attribute changed: ${e}`)}static get observedAttributes(){return["count"]}});const jt="https://openweathermap.org/img/wn/";(new Date).toISOString().split(".").pop();const qt=new Map;function $t(e,t=document){const n=t.getElementById(e);return gt({fill:"currentColor",viewBox:n.getAttribute("viewBox"),role:"presentation",children:[...n.children].map((e=>e.cloneNode(!0)))})}function _t(e){const t=new Image;return t.decoding="async",t.src=function(e){return new URL(`${e}@2x.png`,jt).href}(e),t.slot="icon",t}async function Wt(e,t){const n=await async function(e,t){return await e.ready,qt.has(e)?qt.get(e).querySelector(`slot[name="${t}"]`):null}(e,t);return n instanceof HTMLElement?n.assignedNodes():[]}async function Vt(e,t){(await Wt(e,t)).forEach((e=>e.remove()))}let Bt=dt.url,Gt=null;const Kt=new WeakMap,Jt="IntersectionObserver"in window?new IntersectionObserver(((e,t)=>{e.forEach((({target:e,isIntersecting:n})=>{if(n&&Kt.has(e)){const n=Kt.get(e);n.resolved=!0,n.resolve(e),t.unobserve(e),Kt.delete(e)}}))}),{rootMargin:`${Math.floor(.5*Math.max(screen.height,200))}px`}):{observe:()=>{},has:()=>!1,unobserve:()=>{}};class Xt extends HTMLElement{lazyLoad(e=!0){if(e&&!Kt.has(this)){const e={resolve:null,resolved:!1,promise:Promise.resolve()};e.promise=new Promise((t=>e.resolve=t)),Kt.set(this,e),Jt.observe(this)}else if(!1===e){if(Kt.has(this)){const{resolve:e}=Kt.get(this);e(this)}Kt.delete(this),Jt.unobserve(this)}}connectedCallback(){this.dispatchEvent(new Event("connected"))}get loading(){return this.getAttribute("loading")||"auto"}set loading(e){"string"==typeof e&&e.length,this.setAttribute("loading",e)}get ready(){const{promise:e,resolve:n}=t();return null!==this.shadowRoot&&0===this.shadowRoot.childElementCount?ue(this,"ready").then((()=>n(this))):n(this),e}get stylesLoaded(){return this.ready.then((()=>{if(null!==this.shadowRoot){const e=this.shadowRoot.querySelectorAll('link[rel="stylesheet"][href]:not(:disabled)');return Promise.allSettled([...e].map((async e=>null===e.sheet?Promise.race([ue(e,"load"),ue(e,"error")]):Promise.resolve())))}return this}))}get whenConnected(){const{resolve:e,promise:n}=t();return this.isConnected?e():ue(this,"connected").then((()=>e())),n}get whenLoad(){return"IntersectionObserver"in globalThis&&"lazy"===this.loading?ct(this).then((()=>this)):Promise.resolve(this)}async getSlot(e){return await this.ready,this.shadowRoot.querySelector(`slot[name="${CSS.escape(e)}"]`)}async getSlotted(e){const t=await this.getSlot(e);return t instanceof HTMLElement?t.assignedElements():[]}async getSlottedItem(e,t=0){const n=await this.getSlotted(e);return n.length>t?n[t]:null}async clearSlot(e){(await this.getSlotted(e)).forEach((e=>e.remove()))}async setSlot(e,t,{replace:n=!0,tag:r="span",attrs:i={},data:o={},css:a={},classList:s=[],parts:l=[]}={}){let c=null;const u=await this.getSlotted(e);return n&&1===u.length&&"string"==typeof t&&u[0].tagName===r.toUpperCase()?(c=u[0],c.textContent=t):t instanceof HTMLElement?c=t:"string"==typeof t?(c=document.createElement(r),c.textContent=t):c=document.createElement(r),Object.entries(i).forEach((([e,t])=>c.setAttribute(e,t))),Object.entries(o).forEach((([e,t])=>c.dataset[e]=t)),Object.entries(a).forEach((([e,t])=>c.style.setProperty(e,t))),0!==s.length&&c.classList.add(...s),"part"in c&&Array.isArray(l)&&0!==l.length&&c.part.add(...l),c.slot=e,n?0===u.length?this.append(c):1!==u.length?(u.forEach((e=>e.remove())),this.append(c)):u[0].isSameNode(c)||u[0].replaceWith(c):this.append(c),c}async getTemplate(e,t={}){e=new URL(e,Xt.base);const n=await ke(e,t);return n.querySelectorAll("link[href]").forEach((t=>t.href=new URL(t.getAttribute("href"),e).href)),n.querySelectorAll("img[src]").forEach((t=>t.src=new URL(t.getAttribute("src"),e).href)),n.querySelectorAll("script[src]").forEach((t=>t.src=new URL(t.getAttribute("src"),e).href)),n}static get base(){return"string"==typeof Gt?Gt:document.documentElement.dataset.hasOwnProperty("componentBase")?new URL(document.documentElement.dataset.componentBase,document.baseURI).href:Bt}static set base(e){Gt=e}static register(e,t,...n){return ye(e,t,...n)}}const Qt=x({base:dt.url,path:"./weather/"}),Yt=f("weather-current#html",{createHTML:e=>e});Xt.register("weather-current",class extends Xt{constructor({appId:e=null,postalCode:t=null,loading:n=null}={}){super(),this.addEventListener("connected",(async()=>{const r=this.attachShadow({mode:"closed"}),i=this.attachInternals();i.role="group",i.ariaBusy="true",i.ariaLabel="Local Weather","string"==typeof e&&(this.appId=e),"string"!=typeof t&&"number"!=typeof t||(this.postalCode=t),"string"==typeof n&&(this.loading=n),await Promise.all([this.whenConnected,this.whenLoad]);const o=await(async()=>ke(Qt("./current.html"),{policy:Yt}).then((e=>(e.querySelectorAll("link[href]").forEach((e=>e.href=Qt(e.getAttribute("href")))),e))))();r.append(o),qt.set(this,r),this.dispatchEvent(new Event("ready")),i.ariaBusy="false"}),{once:!0})}async connectedCallback(){this.dispatchEvent(new Event("connected")),this.update(this)}async update(){this.ready.then((async()=>{const{name:e,main:t,wind:n,dt:r,weather:i}=await async function(e,t,{units:n="imperial",country:r="us",lang:i="en",signal:o}={}){return await xe(new URL("/data/2.5/weather","https://api.openweathermap.org"),{body:{appid:e,zip:`${t},${r}`,units:n,lang:i},signal:o})}(this.appId,this.postalCode);this.city=e,this.temp=t.temp,this.conditions=i[0].description,this.windSpeed=n.speed,this.icon=$t(function(e){switch(e){case"01d":return"weather-clear";case"01n":return"weather-clear-night";case"02d":case"03d":case"04d":return"weather-few-clouds";case"02n":case"03n":case"04n":return"weather-few-clouds-night";case"09d":case"09n":return"weather-showers-scattered";case"10d":case"10n":return"weather-showers";case"11d":case"11n":default:return"weather-storm";case"13d":case"13n":return"weather-snow";case"50d":case"50n":return"weather-fog"}}(i[0].icon),qt.get(this)),this.updated=r}))}get appId(){return this.getAttribute("appid")}set appId(e){"string"==typeof e?this.setAttribute("appid",e):this.removeAttribute("appid")}set city(e){this._set("city",e)}set icon(e){if("string"==typeof e){const t=_t(e);console.info(e),Vt(this,"icon").then((()=>this.append(t)))}else e instanceof Element&&(e.slot="icon",Vt(this,"icon").then((()=>this.append(e))))}set sprite(e){this.icon=$t(e,qt.get(this))}set temp(e){this._set("temp",Math.round(e))}set updated(e){if("number"==typeof e||"string"==typeof e){const t=new Date(Number.isInteger(e)?1e3*e:e),n=document.createElement("time");n.textContent=t.toLocaleTimeString(),n.dateTime=t.toISOString(),n.slot="updated",Vt(this,"updated").then((()=>this.append(n)))}else e instanceof HTMLElement&&(e.slot="updated",Vt(this,"updated").then((()=>this.append(e))))}get loading(){return this.getAttribute("loading")||"auto"}set loading(e){"string"==typeof e&&0!==e.length?this.setAttribute("loading",e):this.removeAttribute("loading")}get whenConnected(){return this.isConnected?Promise.resolve():new Promise((e=>this.addEventListener("connected",(()=>e()),{once:!0})))}set windSpeed(e){this._set("windSpeed",e)}set conditions(e){this._set("conditions",e)}get postalCode(){return this.getAttribute("postalcode")}set postalCode(e){this.setAttribute("postalcode",e)}get ready(){return new Promise((e=>{qt.has(this)?e():this.addEventListener("ready",(()=>e()),{once:!0})}))}get theme(){return this.getAttribute("theme")||"auto"}set theme(e){switch(e.toLowerCase()){case"light":this.setAttribute("theme","light");break;case"dark":this.setAttribute("theme","dark");break;case"":case"auto":this.removeAttribute("theme");break;default:throw new Error(`Unsupported theme: ${e}`)}}async _set(e,t,{tag:n="span",attrs:r={}}={}){const i=document.createElement(n);i.slot=e,i.textContent=t,Object.entries(r).forEach((({key:e,val:t})=>i.setAttribute(e,t))),await Vt(this,e),this.append(i)}async attributeChangedCallback(e,t,n){switch(e){case"appid":this.dispatchEvent(new CustomEvent("appidchange",{detail:{oldValue:t,newValue:n}}));break;case"postalcode":this.dispatchEvent(new CustomEvent("locationchange",{detail:{oldValue:t,newValue:n}}));break;case"theme":this.dispatchEvent(new CustomEvent("themechange",{detail:{oldValue:t,newValue:n}}));break;case"units":this.dispatchEvent(new CustomEvent("unitschange",{detail:{oldValue:t,newValue:n}}));break;case"loading":this.lazyLoad("lazy"===n);break;default:throw new Error(`Unhandled attribute changed: ${e}`)}}static get observedAttributes(){return["appid","loading","postalcode","units","theme"]}});const Zt=f("github-user#html",{createHTML:e=>e}),en=x({base:dt.url,path:"./github/"}),tn=function(e,{mode:t="cors",credentials:n="omit",cache:r="default",redirect:i="follow",referrerPolicy:o="no-referrer",integrity:a,priority:s="auto",policy:l=("trustedTypes"in globalThis?trustedTypes.defaultPolicy:null),sanitizer:c}={}){const u=C((async({signal:u}={})=>ke(e,{signal:u,policy:l,sanitizer:c,cache:r,redirect:i,integrity:a,referrerPolicy:o,priority:s,credentials:n,mode:t})));return({signal:e}={})=>u({signal:e}).then((e=>e.cloneNode(!0)))}(en("./user.html"),{policy:Zt});async function nn(e){const t=`github-user-${e}`;if(sessionStorage.hasOwnProperty(t))return JSON.parse(sessionStorage.getItem(t));{const n=await xe(new URL(`/users/${e}`,"https://api.github.com"));return sessionStorage.setItem(t,JSON.stringify(n)),n}}ye("github-user",class extends HTMLElement{constructor(e=null){super(),this.attachShadow({mode:"open"});const t=this.attachInternals();t.states.add("--loading"),Promise.resolve().then((()=>{"string"==typeof e&&(this.user=e),Promise.all([this.whenLoad,this.whenConnected,ct(this)]).then((()=>Promise.all([tn(),et(en("./user.css"),{parent:this.shadowRoot})]).then((([e])=>{this.shadowRoot.append(e),this.dispatchEvent(new Event("ready")),t.states.delete("--loading")})))).catch((e=>{console.error(e),t.state.delete("--loading"),t.states.add("--error")}))}))}get ready(){const{resolve:e,promise:n}=t();return this.shadowRoot.childElementCount<2?le([this],["ready"],(()=>e()),{once:!0}):e(),n}get bio(){return B(this,"bio")}set bio(e){G(this,"bio",e)}get user(){return X(this,"user")}set user(e){Q(this,"user",e)}attributeChangedCallback(e,t,n){if("user"===e)"string"==typeof n&&0!==n.length&&Promise.all([nn(n),this.ready]).then((async([e])=>{try{const t=this.shadowRoot;if(ae('[part~="avatar"]',{src:`${e.avatar_url}&s=64`,height:64,width:64},{base:t}),se('[part~="username"]',e.login,{base:t}),se('[part~="name"]',e.name,{base:t}),ae('[part~="github"]',{href:e.html_url,title:`View ${e.login}'s profile on GitHub`},{base:t}),null!==e.bio?(se('[part~="bio"]',e.bio,{base:t}),ae('[part~="bio"]',{hidden:!1},{base:t})):ae('[part~="bio"]',{hidden:!0},{base:t}),null!==e.location?(se('[part~="location"]',e.location,{base:t}),ae('[part~="location-container"]',{hidden:!1},{base:t})):ae('[part~="location-container"]',{hidden:!0},{base:t}),null!==e.email?(se('[part~="email"]',e.email,{base:t}),ae('[part~="email"]',{href:`mailto:${e.email}`},{base:t}),ae('[part~="email-container"]',{hidden:!1},{base:t})):ae('[part~="email-container"]',{hidden:!0},{base:t}),"string"==typeof e.company?(se('[part~="company"]',e.company,{base:t}),ae('[part~="company"]',{href:`https://github.com/${e.company.replace("@","")}`},{base:t}),ae('[part~="company-container"]',{hidden:!1},{base:t})):ae('[part~="company-container"]',{hidden:!0},{base:t}),"string"==typeof e.blog&&0!==e.blog.length){const n=new URL(e.blog);ae('[part~="blog"]',{href:n.href},{base:t}),se('[part~="blog"]',n.hostname,{base:t})}else ie('[part~="blog-container"]',{base:t})}catch(e){console.error(e),this.hidden=!0}}))}connectedCallback(){this.dispatchEvent(new Event("connected"))}static get observedAttributes(){return["user"]}});
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const rn="serviceWorker"in navigator&&navigator.serviceWorker.register instanceof Function,on=new AbortController,an=on.signal,sn=new Promise((e=>{an.aborted?e():an.addEventListener("abort",(()=>e()),{once:!0})})),ln=new Promise(((e,t)=>{rn?(globalThis.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),e(t)}),{signal:an,once:!0}),on.signal.addEventListener("abort",(()=>{t(new DOMException("Installation aborted"))}),{once:!0})):(on.abort(),t(new DOMException("Service Worker not supported")))}));async function cn(e){if(e instanceof HTMLButtonElement){if(an.aborted)throw e.disabled=!0,new DOMException("PWA installation aborted");{e.disabled=!0;const t=await ln,n=t.platforms;return e.disabled=!1,await new Promise(((r,i)=>{let o=!1;sn.then((()=>{e.disabled=!0,o||(o=!0,i(new DOMException("Installation aborted")))})),e.addEventListener("click",(async()=>{const a=new CustomEvent("afterinstallprompt");a.platforms=n,a.userResponse=await Promise.all([t.userResponse,t.prompt()]).then((([e])=>e)),e.dispatchEvent(a),e.disabled=!0,"accepted"===a.userResponse?(o=!0,r({userResponse:a.userResponse,platforms:n}),on.abort()):(o=!0,i(new DOMException("User aborted installation")),on.abort())}),{signal:an})}))}}throw new DOMException("Not a <button>")}const un=x({base:dt.url,path:"./notification/"}),dn=C((()=>f("html-notification#script",{createScript:e=>e}))),pn=new WeakMap;function hn(e,t){const{shadow:n}=pn.get(t),r=n.querySelector(`slot[name="${e}"]`);if(r instanceof HTMLElement){const e=r.assignedElements();return 1===e.length?e[0].textContent:null}return null}function mn(e,t,n){if("string"==typeof t)return mn(e,Je("span",{text:t,slot:e}),n);t instanceof Element&&(!function(e,t){ie(`[slot="${e}"]`,{base:t})}(e,n),t.slot=e,n.append(t))}class gn extends HTMLElement{constructor(e,{body:n=null,icon:r=null,badge:i=null,image:o=null,dir:a="auto",lang:s="",tag:l="",data:c=null,vibrate:u=null,silent:d=!1,timestamp:p,requireInteraction:h=!1,actions:m=[],signal:g}={}){super();const f=this.attachShadow({mode:"open"}),y=this.attachInternals();pn.set(this,{shadow:f,internals:y}),Promise.resolve().then((()=>{y.role="dialog",this.hidden=!0,this.onshow=null,this.onclose=null,this.onclick=null,this.onerror=null}));const b=Je("div",{part:"container",children:[Je("button",{type:"button",events:{click:()=>this.close()},children:[Je("slot",{name:"close-icon",children:[bt({size:22,fill:"currentColor"})]})]}),Je("span",{part:["url"],children:[Je("slot",{name:"url"})]}),Je("span",{part:["icon"],children:[Je("slot",{name:"icon",children:[yt({size:56,fill:"currentColor"})]})]}),Je("h4",{part:["title"],children:[Je("slot",{name:"title"})]}),Je("span",{part:["badge"],children:[Je("slot",{name:"badge",children:[yt({size:16,fill:"currentColor"})]})]}),Je("p",{part:["body"],children:[Je("slot",{name:"body"})]}),Je("div",{part:["image"],children:[Je("slot",{name:"image"})]}),Je("div",{part:["actions"],children:[Je("slot",{name:"actions"})]}),Je("slot",{name:"data",hidden:!0}),Je("slot",{name:"timestamp"})]});et(un("./html-notification.css"),{parent:f}).then((()=>{if(f.append(...b.children),"string"==typeof e&&mn("title",e,this),Array.isArray(m)&&0!==m.length){const e=e=>{e.preventDefault();const t=new Event("notificationclick");t.action=e.currentTarget.dataset.action,t.notification=this,this.dispatchEvent(t)};this.append(...m.map((({title:t="",action:n="",icon:r=null})=>{const i=Je("button",{type:"button",classList:["no-border","no-background","background-transparent"],title:t,dataset:{action:n},events:{click:e},slot:"actions"});return"string"==typeof r&&""!==r||r instanceof URL?i.append(Qe(r,{height:22,width:22,decoding:"async",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),document.createElement("br"),Je("span",{text:t})):i.append(Je("span",{text:t})),i})))}if("string"==typeof n&&mn("body",n,this),Number.isInteger(p)&&(this.timestamp=p),("string"==typeof r||r instanceof URL)&&mn("icon",Qe(r,{height:64,width:64,loading:"lazy",decoding:"async",crossorigin:"anonymous",referrerpolicy:"no-referrer"}),this),("string"==typeof i||i instanceof URL)&&mn("badge",Qe(i,{height:22,width:22,loading:"lazy",decoding:"async",crossorigin:"anonymous",referrerpolicy:"no-referrer"}),this),c){const e=Je("script",{type:"application/json"});e.text=dn().createScript(JSON.stringify(c)),mn("data",e,this)}("string"==typeof o||o instanceof URL)&&mn("image",Qe(o,{decoding:"async",referrerpolicy:"no-referrer",crossorigin:"anonymous",loading:"lazy",height:80}),this),this.dispatchEvent(new Event("ready")),"locks"in navigator&&navigator.locks.request instanceof Function?navigator.locks.request("html-notification",{mode:"exclusive",signal:g},(async()=>{const{resolve:e,promise:n}=t();this.hidden=!1,this.dispatchEvent(new Event("show")),this.addEventListener("close",e),await n})):(this.hidden=!1,this.dispatchEvent(new Event("show")))})),this.dir=a,this.lang=s,this.setAttribute("tag",l),d&&this.setAttribute("silent",""),h&&this.setAttribute("requireinteraction",""),(Array.isArray(u)||Number.isInteger(u))&&(this.vibrate=u),this.addEventListener("close",(()=>{!this.hidden&&this.isConnected&&this.animate instanceof Function?this.animate([{opacity:1,transform:"none"},{opacity:0,transform:"translateY(64px)"}],{duration:300,easing:"ease-in",fill:"forwards"}).finished.then((()=>this.remove())):this.remove()}),{once:!0}),this.isConnected||g instanceof AbortSignal&&g.aborted||document.body.append(this),this.addEventListener("show",(()=>{const e=f.querySelector('slot[name="actions"]').assignedElements();console.log({actions:e}),this.requireInteraction||setTimeout((()=>this.close()),5e3);const t=this.vibrate;!this.silent&&0!==t.length&&!t.every((e=>0===e))&&navigator.vibrate instanceof Function&&navigator.vibrate(this.vibrate),0!==e.length&&e[0].focus()}),{once:!0,signal:g}),g instanceof AbortSignal&&!g.aborted&&g.addEventListener("abort",(()=>{this.hidden?this.remove():this.close()}),{once:!0})}connectedCallback(){this.dispatchEvent(new Event("connected"))}disconnectedCallback(){this.hidden||this.dispatchEvent(new Event("close"))}get actions(){return this.shadowRoot.querySelector('slot[name="actions"]').assignedElements().map((e=>{const t=e.querySelector("img");return{title:e.title,action:e.dataset.action,icon:t instanceof HTMLImageElement?t.src:null}}))}get badge(){const e=this.shadowRoot.querySelector('slot[name="badge"]').assignedElements();return 0!==e.length?e[0].src:null}get body(){return hn("body",this)}get data(){const e=this.shadowRoot.querySelector('slot[name="data"]').assignedElements();return 0===e.length?null:1===e.length?JSON.parse(e[0].textContent):e.map((e=>e.textContent))}get icon(){const e=this.shadowRoot.querySelector('slot[name="icon"]').assignedElements();return 0!==e.length?e[0].src:null}get image(){const e=this.shadowRoot.querySelector('slot[name="image"]').assignedElements();return 0!==e.length?e[0].src:null}get requireInteraction(){return this.hasAttribute("requireinteraction")}set requireInteraction(e){this.toggleAttribute("requireinteraction",e)}get silent(){return this.hasAttribute("silent")}set silent(e){this.toggleAttribute("silent",e)}get tag(){return X(this,"tag")}set tag(e){Q(this,"tag",e)}get timestamp(){return K(this,"timestamp",{fallback:Date.now()})}set timestamp(e){e instanceof Date?J(this,"timestamp",e.getTime()):J(this,"timestmap",e)}get title(){return hn("title",this)}get vibrate(){return this.hasAttribute("vibrate")?this.getAttribute("vibrate").split(" ").map((e=>parseInt(e))):[0]}set vibrate(e){Array.isArray(e)?this.setAttribute("vibrate",e.join(" ")):(Number.isInteger(e)||"string"==typeof e)&&this.setAttribute("vibrate",e)}get whenConnected(){return new Promise((e=>{this.isConnected?e():this.addEventListener("connected",(()=>e()),{once:!0})}))}close(){this.dispatchEvent(new Event("close"))}static get permission(){return"granted"}static get maxActions(){return 5}static async requestPermission(){return"granted"}}ye("html-notification",gn);const fn=f("pwa-install",{createHTML:e=>e,createScriptURL:e=>{if(new URL(e,document.baseURI).origin===location.origin)return e;throw new TypeError(`${e} is not a same-origin script`)}}),yn=x({base:dt.url,path:"./install/"}),bn=C((()=>ke(yn("./prompt.html"),{policy:fn}))),wn=new WeakMap;function vn({opts:e=[],sizes:t="100%",decoding:n="async",loading:r="lazy",crossOrigin:i="anonymous",referrerPolicy:o="no-referrer",alt:a="image",fallbackWidth:s=192}={}){const l=document.createElement("picture"),c=document.createElement("img");c.decoding=n,c.loading=r,c.alt=a,c.sizes=t,c.crossOrigin=i,c.referrerPolicy=o,c.src=function(e,t){if(Array.isArray(e))return e.find((e=>e.sizes.startsWith(`${t}x`)))||{src:null};return{src:null}}(e,s).src;const u=e.reduce(((e,{src:t,sizes:n="",type:r=null}={})=>{const[i=null]=n.split("x",1);return e.hasOwnProperty(r)?e[r].push(`${t} ${i}w`):e[r]=[`${t} ${i}w`],e}),{});return l.append(...Object.entries(u).map((([e,t])=>{const n=document.createElement("source");return n.type=e,n.srcset=t.join(", "),n.sizes=c.sizes,n})),c),l}"serviceWorker"in navigator&&"serviceWorker"in document.documentElement.dataset&&(console.warn("Installing service workers via <install-prompt> is deprecated and will be removed."),L({policy:fn})),ye("install-prompt",class extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"closed"}),t=this.attachInternals();wn.set(this,{shadow:e,internals:t}),Promise.all([bn().then((e=>e.cloneNode(!0))),Me(),et(yn("./prompt.css"),{parent:e})]).then((async([n,r])=>{const{name:i,description:o,features:a,categories:s=[],screenshots:l=[],icons:c=[],related_applications:u=[]}=r;if(t.role="dialog",t.ariaModal="true",t.ariaHidden=this.open?"false":"true",t.ariaLabel=`Install ${i}`,cn(n.querySelector(".header-btn.install-btn")).catch((()=>{})),Array.isArray(l)&&0!==l.length){const e=vn({opts:l,sizes:"(max-width: 600px) 80vw, 40vw",fallbackWidth:640});n.querySelector('[part="screenshots"]').replaceChildren(e)}if(Array.isArray(c)&&0!==c.length){const e=function(...e){let t=e.find((e=>"image/svg+xml"===e.type));if(t){const e=document.createElement("img");return e.src=t.src,e.decoding="async",e.loading="lazy",e.alt="App Icon",e.height=192,e.width=192,e}return vn({opts:e,sizes:"10vmax",alt:"App Icon"})}(...c);n.querySelector('[part="icon"]').replaceChildren(e)}se('[part="name"]',i,{base:n}),se('[part="description"]',o,{base:n}),le(ne('[data-click="close"]',n),{click:()=>this.open=!1}),le(ne("[data-platform]",n),{click:({target:e})=>{const t=e.closest("[data-platform]").dataset.platform;it()&&rt({eventCategory:"install",eventAction:"install",eventLabel:t}),this.dispatchEvent(new CustomEvent("install",{detail:{platform:t}}))}}),Array.isArray(a)&&n.querySelector('[part="features"]').replaceChildren(...a.map((e=>Je("li",{text:e})))),Array.isArray(s)&&0!==s.length&&n.querySelector('[part="categories"]').replaceChildren(...s.map((e=>Je("li",{text:e,part:["category"]})))),u.forEach((({platform:e,url:t,id:r})=>{switch(e){case"webapp":Promise.resolve(n.querySelector('[data-platform="webapp"]')).then((e=>{e.hidden=!1,cn(e).catch((()=>{}))}));break;case"play":case"itunes":case"windows":case"f-droid":case"amazon":Promise.resolve(n.querySelector(`[data-platform="${e}"]`)).then((n=>{if(n instanceof HTMLAnchorElement){const i="string"==typeof t?new URL(t,n.href):new URL(n.href);"play"===e&&"string"==typeof r&&i.searchParams.set("id",r),n.href=i.href,n.hidden=!1}}))}})),it()&&le(ne("[data-platform]",n),{click:({target:e})=>{rt({eventCategory:"install",eventAction:"install",eventLabel:e.closest("[data-platform]").dataset.platform})}},{once:!0}),requestAnimationFrame((()=>{e.append(n),this.dispatchEvent(new Event("ready"))}))}))}async attributeChangedCallback(e,t,n){const{internals:r,shadow:i}=wn.get(this);if("open"!==e)throw new DOMException(`Unhandled attribute changed: "${name}".`);"string"==typeof n?(r.ariaHidden="false",r.states.add("--open"),[...document.body.children].forEach((e=>e.inert=!e.isSameNode(this))),await this.ready,i.querySelector("button:not([disabled])").focus(),this.dispatchEvent(new Event("open"))):(r.ariaHidden="true",r.states.delete("--open"),[...document.body.children].forEach((e=>e.inert=!1)),this.dispatchEvent(new Event("close")))}async show({removeOnClose:e=!0}={}){return this.isConnected||document.body.append(this),this.open=!0,e&&le(this,{close:({target:e})=>e.remove()},{once:!0}),await new Promise(((e,t)=>{const n={install:({detail:{platform:t}})=>{ce(this,n,{once:!0}),e({platform:t}),this.close()},close:()=>{ce(this,n,{once:!0}),t(new DOMException("User cancelled install prompt"))}};le(this,n,{once:!0})}))}async close(){this.open=!1}get open(){return this.hasAttribute("open")}set open(e){this.toggleAttribute("open",e)}get ready(){return new Promise((e=>{const{shadow:t}=wn.get(this);t.childElementCount<2?this.addEventListener("ready",(()=>e()),{once:!0}):e()}))}static get observedAttributes(){return["open"]}static get serviceWorker(){return"serviceWorker"in navigator?navigator.serviceWorker.getRegistration():null}}),fn.name;
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const En=new URL("https://apps.kernvalley.us/apps.json"),Tn=C((async({signal:e}={})=>xe(En,{signal:e})));function Sn(){it()&&rt({hitType:"event",eventCategory:"outbound",eventAction:"click",eventLabel:this.href,transport:"beacon"})}function An({name:e,url:t,description:n,image:r}){const i=document.createElement("a"),o=document.createElement("b"),a=document.createElement("meta"),s=document.createElement("div"),l=Qe(r.url,{height:150,width:150,...r});return i.addEventListener("click",Sn,{passive:!0,capture:!0}),V(a,{itemprop:"url",content:t}),i.href=t,i.relList.add("noopener","external"),V(i,{itemtype:"https://schema.org/WebApplication",itemscope:!0,title:`Open ${e}`}),W(i,{display:"grid",padding:"12px",color:"inherit","text-decoration":"none","grid-template-areas":'". image ." "name name name" "description description description"',"grid-template-columns":"auto 150px auto","grid-template-rows":"150px auto auto",gap:"8px",border:"1px solid #dedede","border-radius":"12px"}),o.textContent=e,V(o,{itemprop:"name"}),W(o,{"grid-area":"name","text-decoration":"underline"}),V(s,{itemprop:"description"}),s.textContent=n,W(s,{"grid-area":"description"}),W(l,{"grid-area":"image","object-fit":"cover","border-radius":"8px"}),V(l,{itemprop:"image"}),i.append(a,l,o,s),i}ye("app-list",class e extends HTMLButtonElement{constructor({source:e=null,medium:t=null,content:n=null}={}){super(),this.addEventListener("click",this.show,{passive:!0,capture:!0}),this.addEventListener("connected",(()=>{this.hidden=!1,this.ariaHasPopup="dialog",this.ariaLabel="Show KRV Apps dialog","string"==typeof e&&(this.source=e),"string"==typeof t&&(this.medium=t),"string"==typeof n&&(this.content=n)}),{once:!0})}connectedCallback(){this.dispatchEvent(new Event("connected"))}get content(){return X(this,"content",{fallback:"krv-app-list"})}set content(e){Q(this,"content",e)}get dev(){return B(this,"dev")}set dev(e){G(this,"dev",e)}get medium(){return X(this,"medium",{fallback:"referral"})}set medium(e){Q(this,"medium",e)}get host(){return X(this,"host")}set host(e){G(this,"host",e)}get source(){return X(this,"source")}set source(e){Q(this,"source",e)}async show(){this.disabled=!0;const{source:t,medium:n,content:r,dev:i,host:o}=this,a=document.createElement("dialog"),s=(await e.getAppList({source:t,medium:n,content:r,dev:i,host:o})).map(An),l=document.createElement("header"),c=document.createElement("button"),u=document.createElement("div");c.ariaLabel="Close dialog",W(l,{height:"2.8em",display:"flex","flex-direction":"row",position:"sticky",top:"0","flex-basis":"100%"}),c.append(bt({styles:{color:"inherit","max-width":"100%","max-height":"100%",width:"var(--icon-size, 1em)",height:"var(--icon-size, 1em)","vertical-align":"middle"}})),c.addEventListener("click",(({target:e})=>{e.closest("dialog").close(),this.disabled=!1})),W(c,{display:"inline-block","background-color":"#dc3545",color:"#fefefe",border:"none",cursor:"pointer","font-size":"20px","margin-left":"auto","border-radius":"4px",padding:"0.3em"}),c.title="Close Dialog",l.append(c),u.append(...s),W(u,{display:"grid","overflow-x":"hidden","overflow-y":"auto","grid-template-columns":"repeat(auto-fit, 280px)","grid-template-rows":"repeat(auto-fit, auto)",gap:"12px","justify-content":"space-evenly","box-sizing":"border-box",padding:"3em 0"}),a.append(l,u),a.addEventListener("close",(({target:e})=>e.remove())),W(a,{width:"80vw"}),document.body.append(a),a.animate instanceof Function&&a.animate([{opacity:0},{opacity:1}],{duration:400,easing:"ease-in-out",fill:"both"}),a.showModal()}static preloadData(){!async function(e,{as:t="fetch",type:n=null,crossOrigin:r="anonymous",referrerPolicy:i="no-referrer",fetchPriority:o="auto",media:a=null,integrity:s=null,signal:l}={}){l instanceof AbortSignal&&l.throwIfAborted();const c=Ye(e,{rel:["preload"],as:t,type:n,crossOrigin:r,referrerPolicy:i,fetchPriority:o,media:a,integrity:s});document.head.append(c)}(En,{as:"fetch",type:"application/json",importance:"high"})}static async getAppList({source:e=null,medium:t=null,content:n=null,dev:r=!1,host:i=!1}={}){const o=await Tn();if(Array.isArray(o)){const a=o.map((r=>{if("string"==typeof r.url){const i=new URL(r.url,document.baseURI);"string"!=typeof e||i.searchParams.has("utm_source")||(i.searchParams.set("utm_source",e),i.searchParams.set("utm_medium",t||"web"),i.searchParams.set("utm_content",n||"krv-app-list"),r.url=i.href)}return r}));return r&&i?a:i?a.filter((({dev:e})=>!e)):r?a.filter((({url:e})=>new URL(e).hostname!==location.hostname)):a.filter((({dev:e,url:t})=>!e&&new URL(t).hostname!==location.hostname))}throw new Error("Failed fetching app list")}},{extends:"button"});const Ln="lazy",kn=53,xn=e=>new URL(e,"https://cdn.kernvalley.us").href,Mn=e=>oe(e,{width:"auto",height:"53px"});navigator.getInstalledRelatedApps instanceof Function||(navigator.getInstalledRelatedApps=async()=>[]),ye("app-stores",class extends HTMLElement{async connectedCallback(){const[{related_applications:e},t=[]]=await Promise.all([Me(),navigator.getInstalledRelatedApps()]).catch(console.error),n=t.map((({platform:e})=>e));if(Array.isArray(e)&&0!==e.length){const t=await Promise.allSettled(e.filter((({platform:e})=>!n.includes(e))).map((({platform:e,id:t,url:n})=>{switch(e){case"play":return tt(xn("./img/logos/play-badge.svg"),{alt:"Google Play Store",part:["store-badge","play-store-badge"],width:180,height:kn,loading:Ln}).then((r=>{Mn(r);const i=document.createElement("a");if(i.classList.add("app-store",`store-${e}`),i.relList.add("noopener","noreferrer","external"),"string"==typeof n)i.href=new URL(n,document.baseURI).href;else{const e=new URL("https://play.google.com/store/apps/details");e.searchParams.set("id",t),i.href=e.href}return i.append(r),i})).catch(console.error);case"itunes":return tt(xn("./img/logos/itunes-badge.svg"),{alt:"App Store",part:["store-badge","app-store-badge"],width:158,height:kn,loading:Ln}).then((t=>{Mn(t);const r=document.createElement("a");return r.classList.add("app-store",`store-${e}`),r.relList.add("noopener","noreferrer","external"),"string"==typeof n&&(r.href=new URL(n,document.baseURI).href),r.append(t),r})).catch(console.error);case"f-droid":return tt(xn("./img/logos/f-droid-badge.svg"),{alt:"F-Droid",part:["store-badge","f-droid-badge"],width:158,height:kn,loading:Ln}).then((t=>{Mn(t);const r=document.createElement("a");return r.classList.add("app-store",`store-${e}`),r.relList.add("noopener","noreferrer","external"),"string"==typeof n&&(r.href=new URL(n,document.baseURI).href),r.append(t),r})).catch(console.error);case"amazon":return tt(xn("./img/logos/amazon-appstore-badge.svg"),{alt:"App Store",part:["store-badge","amazon-appstore-badge"],width:158,height:kn,loading:Ln}).then((t=>{Mn(t);const r=document.createElement("a");return r.classList.add("app-store",`store-${e}`),r.relList.add("noopener","noreferrer","external"),"string"==typeof n&&(r.href=new URL(n,document.baseURI).href),r.append(t),r})).catch(console.error);case"windows":return tt(xn("./img/logos/windows-badge.svg"),{alt:"Microsoft Store",part:["store-badge","windows-store-badge"],width:158,height:kn,loading:Ln}).then((t=>{Mn(t);const r=document.createElement("a");return r.classList.add("app-store",`store-${e}`),r.relList.add("noopener","noreferrer","external"),"string"==typeof n&&(r.href=new URL(n,document.baseURI).href),r.append(t),r})).catch(console.error);case"webapp":return tt(xn("/img/logos/pwa-badge.svg"),{alt:"Web App",part:["store-badge","pwa-badge"],width:158,height:kn,loading:Ln}).then((t=>{Mn(t);const n=document.createElement("button");return n.type="button",n.disabled=!0,n.classList.add("app-store",`store-${e}`),n.append(t),oe(n,{"-webkit-appearance":"none",appearance:"none",border:"0 none",padding:"0",filter:"grayscale(1)",cursor:"not-allowed","background-color":"transparent"}),ln.then((()=>{oe(n,{filter:!1,cursor:"pointer"})})),an.addEventListener("abort",(()=>{oe(n,{filter:"grayscale(1)",cursor:"not-allowed"})}),{once:!0}),cn(n).catch((()=>{})),n}));default:console.error(`Unknown platform: ${e}`)}})));0===t.length?this.hidden=!0:this.append(...t.filter((({status:e})=>"fulfilled"===e)).map((({value:e})=>e)))}else this.hidden=!0}});const Pn=new WeakMap,Nn="--disabled";class Cn extends HTMLElement{attachInternals(){const e=super.attachInternals();return Pn.set(this,e),e}get disabled(){return this.hasAttribute("disabled")}set disabled(e){this.toggleAttribute("disabled",e)}attributeChangedCallback(e,t,n){if("disabled"===e){const e=Pn.get(this);"string"==typeof n?(e.ariaDisabled="true",e.states.add(Nn)):(e.ariaDisabled="false",e.states.delete(Nn))}}connectedCallback(){Pn.has(this)||this.attachInternals();const e=Pn.get(this);this.hasAttribute("role")||"string"==typeof e.role||(e.role="button"),this.hasAttribute("tabindex")||(this.tabIndex=0)}static get observedAttributes(){return["disabled"]}}
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const On={name:"Facebook",short_name:"Facebook",icons:[{src:"https://cdn.kernvalley.us/img/logos/facebook.svg",type:"image/svg+xml"}],share_target:{action:"https://www.facebook.com/sharer/sharer.php",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:null,text:"t",url:"u"}}},Fn={name:"Twitter",short_name:"Twitter",icons:[{src:"https://cdn.kernvalley.us/img/logos/twitter.svg",type:"image/svg+xml"}],share_target:{action:"https://twitter.com/compose/tweet/",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"title",text:"text",url:"url"}}},In={name:"LinkedIn",short_name:"LinkedIn",icons:[{src:"https://cdn.kernvalley.us/img/logos/linkedin.svg",type:"image/svg+xml"}],share_target:{action:"https://www.linkedin.com/shareArticle/",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"title",text:"summary",url:"url"}}},Rn={name:"Reddit",short_name:"Reddit",icons:[{src:"https://cdn.kernvalley.us/img/logos/reddit.svg",type:"image/svg+xml"}],share_target:{action:"https://www.reddit.com/submit/",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"title",text:null,url:"url"}}},Un={name:"Gmail",short_name:"Gmail",icons:[{src:"https://cdn.kernvalley.us/img/logos/gmail.svg",type:"image/svg+xml"}],share_target:{action:"https://mail.google.com/mail/u/0/?view=cm&fs=1&tf=1",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"su",text:"body",url:null}}},Dn={name:"Email",short_name:"Email",icons:[{src:"https://cdn.kernvalley.us/img/adwaita-icons/actions/mail-send.svg",type:"image/svg+xml"}],share_target:{action:"mailto:",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"subject",text:"body",url:null}}},zn={name:"Tumblr",short_name:"Tumblr",icons:[{src:"https://cdn.kernvalley.us/img/logos/tumblr.svg",type:"image/svg+xml"}],share_target:{action:"https://www.tumblr.com/widgets/share/tool",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:"title",text:null,url:"canonicalUrl"}}},Hn={name:"Telegram",short_name:"Telegram",icons:[{src:"https://cdn.kernvalley.us/img/logos/telegram.svg",type:"image/svg+xml"}],share_target:{action:"https://telegram.me/share/url",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:null,text:"text",url:"url"}}},jn={name:"Pinterest",short_name:"Pinterest",icons:[{src:"https://cdn.kernvalley.us/img/logos/pinterest.svg",type:"image/svg+xml"}],share_target:{action:"https://www.pinterest.it/pin/create/button/",method:"GET",enctype:"application/x-www-form-urlencoded",params:{title:null,text:null,url:"url"}}};const qn=new WeakMap,$n={facebook:"Share this on Facebook",twitter:"Share this on Twitter",reddit:"Share this on Reddit",linkedin:"Share this on LinkedIn",gmail:"Share this via Gmail",pinterest:"Share this on Pinterest",tumblr:"Share this on Tumblr",telegram:"Share this via Telegram",clipboard:"Send this to your clipboard",print:"Print this",email:"Send this via email"},_n=x({base:dt.url,path:"./button/"}),Wn=f("share-to-buttons#html",{createHTML:e=>e}),Vn=C((()=>ke(_n("./share-to.html"),{policy:Wn})));function Bn(e,{title:t,text:n,url:r,height:i=360,width:o=720,name:a="SharePopup"}={}){return function(e,{name:t="",referrer:n=!1,opener:r=!1,height:i=null,width:o=null,x:a=null,y:s=null,resizable:l=!0,location:c=!1,scrollbars:u=!0}={}){let d=[];return!1===r&&d.push("noopener"),!1===n&&d.push("noreferrer"),(Number.isInteger(o)||Number.isInteger(i))&&(Number.isInteger(i)&&d.push(`height=${i}`),Number.isInteger(o)&&d.push(`width=${o}`),Number.isInteger(a)&&d.push(`left=${a}`),Number.isInteger(s)&&d.push(`top=${s}`),l&&d.push("resiabled"),c&&d.push("location"),u&&d.push("scrollbars")),window.open(e,t,d.join(","))}(function(e,{title:t,text:n,url:r,files:i}={}){if("share_target"in e&&"action"in e.share_target&&"params"in e.share_target){if(Array.isArray(i)&&0!==i.length)throw new Error("Sharing files is not supported");if("string"==typeof e.method&&"get"!==e.method.toLowerCase())throw new Error(`Sharing by ${e.method} is not supported`);if("string"!=typeof n&&"string"!=typeof t&&"string"!=typeof r)throw new Error("No text, url, and title given to share");{r instanceof URL&&(r=r.href);const{action:i,params:o={title:"title",text:"text",url:"url"}}=e.share_target,a=new URL(i);return"string"==typeof o.title&&"string"==typeof t&&a.searchParams.set(o.title,t),"string"==typeof o.url&&"string"==typeof r&&"string"==typeof o.text&&"string"==typeof n?(a.searchParams.set(o.url,r),a.searchParams.set(o.text,n)):"string"==typeof o.text&&"string"==typeof n&&"string"==typeof r?a.searchParams.set(o.text,`${n} | ${r}`):"string"==typeof o.url&&"string"==typeof r?a.searchParams.set(o.url,r):"string"==typeof o.text&&"string"==typeof n&&a.searchParams.set(o.text,n),a.href}}throw new Error("Invalid share target")}(e,{title:t,text:n,url:r}),{height:i,width:o,name:a})}async function Gn({type:e,key:t,isTrusted:n,currentTarget:r}){if(n&&!r.disabled&&("click"===e||"Enter"===t||" "===t)){const{internals:e}=qn.get(r);e.ariaPressed="true";const{shareTitle:t,target:n,url:o,text:a}=r;await async function({target:e,title:t=document.title,text:n="",url:r=location.href}){switch(e.toLowerCase()){case"facebook":Bn(On,{title:t,text:n,url:r});break;case"twitter":Bn(Fn,{title:t,text:n,url:r});break;case"reddit":Bn(Rn,{title:t,text:n,url:r});break;case"linkedin":Bn(In,{title:t,text:n,url:r});break;case"gmail":Bn(Un,{title:t,text:n,url:r});break;case"pinterest":Bn(jn,{title:t,text:n,url:r});break;case"tumblr":Bn(zn,{title:t,text:n,url:r});break;case"telegram":Bn(Hn,{title:t,text:n,url:r});break;case"clipboard":"string"==typeof n&&0!==n.length?navigator.clipboard.writeText(`${t} <${r}>\n${n}`).then((()=>alert("Copied to clipboard"))):navigator.clipboard.writeText(`${t} <${r}>`).then((()=>alert("Copied to clipboard")));break;case"print":window.print();break;case"email":Bn(Dn,{title:t,text:n,url:r});break;default:throw new Error(`Unknown share target: ${e}`)}}({target:n,title:t,url:o,text:a}).catch(console.error),i=r,it()&&rt({hitType:"event",eventCategory:`${i.tagName.toLowerCase()} | ${i.target}`,eventAction:i.url,eventLabel:i.title||document.title,transport:"beacon"}),e.ariaPressed="false"}var i}ye("share-to-button",class extends Cn{constructor({target:e=null,url:t=null,source:n=null,medium:r=null,content:i=null}={}){super();const o=this.attachShadow({mode:"open"}),a=this.attachInternals();qn.set(this,{shadow:o,internals:a}),Vn().then((e=>e.cloneNode(!0))).then((o=>{const s=this.hidden;a.ariaHasPopup="dialog",a.ariaPressed="false",this.hidden=!0,"string"==typeof e&&(this.target=e),"string"==typeof t&&(this.url=t),"string"==typeof n&&(this.source=n),"string"==typeof r&&(this.medium=r),"string"==typeof i&&(this.content=i),this.shadowRoot.append(o),et(_n("./share-to.css"),{parent:this.shadowRoot}).then((()=>{this.hidden=s,this.dispatchEvent(new Event("ready"))}))})),this.addEventListener("click",Gn,{passive:!0}),this.addEventListener("keydown",Gn,{passive:!0})}get ready(){return new Promise((e=>{0===this.shadowRoot.childElementCount?this.addEventListener("ready",(()=>e(this)),{once:!0}):e(this)}))}get content(){return X(this,"content",{fallback:"share-to-button"})}set content(e){Q(this,"content",e)}get disabled(){return B(this,"disabled")}set disabled(e){qn.get(this).ariaDisabled=e?"true":"false",B(this,"disabled")}get medium(){return X(this,"medium",{fallback:"share"})}set medium(e){Q(this,"medium",e)}get source(){return X(this,"source")}set source(e){Q(this,"source",e)}get target(){return X(this,"target")}set target(e){Q(this,"target",e)}get url(){if(this.hasAttribute("url")){const e=Y(this,"url"),{source:t,medium:n,content:r}=this;return F(e,{source:t,medium:n,content:r}).href}{const{source:e,medium:t,content:n}=this;if("string"==typeof e&&"string"==typeof t){return F(new URL(location.href),{source:e,medium:t,content:n}).href}return location.href}}set url(e){Z(this,"url",e)}get text(){return X(this,"text")}set text(e){Q(this,"text",e)}get shareTitle(){return X(this,"sharetitle",{fallback:document.title})}set shareTitle(e){Q(this,"sharetitle",e)}get stack(){return B(this,"stack")}set stack(e){G(this,"stack",e)}async attributeChangedCallback(e,t,n){if("target"!==e)throw new Error(`Unhandled attribute change: ${e}`);!function(e){const{internals:t}=qn.get(e);t.ariaLabel=$n[e.target.toLowerCase()]||"No handler available for this button"}(this),"string"!=typeof n||0===n.length?this.hidden=!0:"clipboard"===n.toLowerCase()?this.hidden=!("clipboard"in navigator&&navigator.clipboard.writeText instanceof Function):(this.ready.then((()=>{this.shadowRoot.getElementById("network").textContent=n})),this.hidden=!1)}static get observedAttributes(){return["target"]}});
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const Kn="origin",Jn="auto",Xn="disqus_thread";function Qn(e,{referrerPolicy:t=Kn,timestamp:n=Date.now(),policy:r=Ke(),fetchPriority:i=Jn,events:o}={}){return function(e,{async:t=!0,defer:n=!1,blocking:r=null,integrity:i=null,nonce:o=null,type:s=q,crossOrigin:l=null,referrerPolicy:c=Ne,noModule:u=!1,fetchPriority:d="auto",dataset:p=null,policy:h=("trustedTypes"in globalThis?globalThis.trustedTypes.defaultPolicy:null),events:{capture:m,passive:g,once:f,signal:y,...b}={},...w}={}){T(e)&&(e=S(e));const v=Je("script",{dataset:p,events:{capture:m,passive:g,once:f,signal:y,...b},...w});return v.type=s,v.noModule=u,v.async=t,v.defer=n,v.referrerPolicy=c,v.fetchPriority=d,"string"==typeof l&&e.origin!==location.origin&&(v.crossOrigin=l),"string"==typeof i&&(v.integrity=i),"string"==typeof o&&(v.nonce=o),Array.isArray(r)?v.setAttribute("blocking",r.join(" ")):"string"==typeof r&&v.setAttribute("blocking",r),a(v,"src",e,{policy:h}),v}(r.createScriptURL(function(e){return new URL("/embed.js",`https://${e}.disqus.com/`).href}(e)),{referrerPolicy:t,fetchPriority:i,dataset:{timestamp:n},events:o})}const Yn=Symbol("shadow"),Zn=Symbol("internals");ye("disqus-comments",class extends HTMLElement{constructor(e){super();const t=this.attachShadow({mode:"closed"}),n=this.attachInternals(),r=document.createElement("slot"),i=document.createElement("div");Object.defineProperties(this,{[Yn]:{enumerable:!1,configurable:!1,writable:!1,value:t},[Zn]:{enumerable:!1,configurable:!1,writable:!1,value:n}}),i.slot="comments",i.id=Xn,r.name="comments",t.append(r),this.append(i),n.role="document",n.ariaLabel="Disqus Comments",r.addEventListener("slotchange",(({target:e})=>{e.assignedElements().forEach((e=>e.id=Xn))})),"string"==typeof e&&(this.site=e)}async attributeChangedCallback(e,n,r){if("site"!==e)throw new Error(`Unhandled attribute changed: "${e}"`);if("string"==typeof n){this[Yn].querySelector('slot[name="comments"]').assignedElements().forEach((e=>e.remove()))}"string"==typeof r&&0!==r.length&&("lazy"===this.loading&&await ct(this),await async function(e,{referrerPolicy:n=Kn,timestamp:r=Date.now(),policy:i=Ke(),fetchPriority:o=Jn,parent:a=document.head,signal:s}={}){const{resolve:l,reject:c,promise:u}=t();if(!(s instanceof AbortSignal&&s.aborted)){const t=new AbortController,d=Qn(e,{referrerPolicy:n,timestamp:r,policy:i,fetchPriority:o,events:{load:({target:e})=>{l(e),t.abort()},error:()=>{c(new DOMException(`Error loading Disqus script for ${e}`))},signal:t.signal}});return s instanceof AbortSignal&&s.addEventListener("abort",(({target:e})=>{c(e.reason),t.abort(e.reason)}),{once:!0,signal:t.signal}),a.append(d),await u}c(s.reason)}(this.site),this.dispatchEvent(new Event("ready")))}get ready(){return 0===this[Yn].childElementCount?new Promise((e=>this.addEventListener("ready",(()=>e()),{once:!0}))):Promise.resolve()}get loading(){return X(this,"loading",{fallback:"eager"})}set loading(e){Q(this,"loading",e)}get site(){return X(this,"site")}set site(e){const t=X(this,"site");Q(this,"site",e),this.dispatchEvent(new CustomEvent("sitechange",{detail:{oldValue:t,newValue:e}}))}static get observedAttributes(){return["site"]}});
/**
	 * @copyright 2023 Chris Zuber <admin@kernvalley.us>
	 */
const er=globalThis.matchMedia instanceof Function;function tr(e={}){return function(e={}){if(er){const t=Object.entries(e).map((([e,t])=>`(${e}: ${t})`)).join(" and ");return matchMedia(t)}return{matches:!1,addEventListener:()=>null,removeEventListener:()=>null}}(e).matches}const nr=Symbol("shadow");function rr(e){return D((async()=>{await Promise.all([e.loaded,e.connected]);const t=e[nr].querySelector('slot[name="titlebar"]'),n=e[nr].querySelector('slot[name="fallback"]');e.overlayVisible?([e,t,...t.assignedElements()].forEach((e=>e.hidden=!1)),[n,...n.assignedElements()].forEach((e=>e.hidden=!0))):0===n.assignedElements().length?e.hidden=!0:([t,...t.assignedElements()].forEach((e=>e.hidden=!0)),[e,n,...n.assignedElements()].forEach((e=>e.hidden=!1)))}))}ye("window-controls",class e extends HTMLElement{constructor(){super(),this[nr]=this.attachShadow({mode:"closed"});const e=document.createElement("div"),t=document.createElement("slot"),n=document.createElement("slot"),r=document.createElement("div");t.name="titlebar",n.name="fallback",t.part.add("titlebar"),n.part.add("fallback"),r.part.add("grab-region"),e.part.add("container"),requestAnimationFrame((async()=>{e.append(t,n,r),await et(new URL("./components/window-controls.css",dt.url),{parent:this[nr]}),this[nr].append(e),this.dispatchEvent(new Event("load"))}))}connectedCallback(){if(e.supported&&"browser"!==(["browser","standalone","minimal-ui","fullscreen"].find((e=>tr({"display-mode":e})))||"browser")){const e=rr(this);e(),navigator.windowControlsOverlay.addEventListener("geometrychange",e),this.dispatchEvent(new Event("connected"))}else{rr(this)()}}get connected(){const{resolve:e,promise:n}=t();return this.isConnected?e():this.addEventListener("connected",(()=>e()),{once:!0}),n}get loaded(){const{resolve:e,promise:n}=t();return this[nr].childElementCount>1?e():this.addEventListener("load",(()=>e()),{once:!0}),n}get titlebarAreaRect(){return this.overlayVisible?navigator.windowControlsOverlay.getTitlebarAreaRect():this.getBoundingClientRect()}get overlayVisible(){return e.supported&&navigator.windowControlsOverlay.visible}get overlayHidden(){return!this.overlayVisible}static get supported(){return"windowControlsOverlay"in navigator}})}();
//# sourceMappingURL=index.out.js.map
